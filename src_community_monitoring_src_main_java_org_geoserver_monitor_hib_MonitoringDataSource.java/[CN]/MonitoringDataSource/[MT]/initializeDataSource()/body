{
  File monitoringDir=dataDirectory.findOrCreateDir("monitoring");
  File dbprops=new File(monitoringDir,"db.properties");
  if (dbprops.exists()) {
    LOGGER.info("Configuring monitoring database from: " + dbprops.getAbsolutePath());
    try {
      configureDataSource(dbprops,monitoringDir);
    }
 catch (    SQLException e) {
      dbprops=new File(monitoringDir,"db1.properties");
      if (dbprops.exists()) {
        try {
          configureDataSource(dbprops,monitoringDir);
          return;
        }
 catch (        SQLException e1) {
          dbprops=new File(monitoringDir,"db2.properties");
          if (dbprops.exists()) {
            try {
              configureDataSource(dbprops,monitoringDir);
              return;
            }
 catch (            SQLException e2) {
            }
          }
        }
      }
      throw e;
    }
  }
 else {
    configureDataSource(null,monitoringDir);
  }
}
