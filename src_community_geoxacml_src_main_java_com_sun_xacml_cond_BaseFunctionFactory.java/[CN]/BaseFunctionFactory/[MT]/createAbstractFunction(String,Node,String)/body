{
  Object entry=functionMap.get(identity);
  if (entry != null) {
    if (entry instanceof FunctionProxy) {
      try {
        return ((FunctionProxy)entry).getInstance(root,xpathVersion);
      }
 catch (      Exception e) {
        throw new ParsingException("couldn't create abstract" + " function " + identity,e);
      }
    }
 else {
      throw new FunctionTypeException("function is concrete");
    }
  }
 else {
    throw new UnknownIdentifierException("abstract functions of " + "type " + identity + " are not supported by "+ "this factory");
  }
}
