{
  File baseDir=null;
  final String baseDirPath=JMSConfiguration.getOverride(CONFIGDIR_KEY);
  if (baseDirPath != null) {
    baseDir=new File(baseDirPath);
  }
 else {
    baseDir=loader.getBaseDirectory();
    if (baseDir != null) {
      baseDir=new File(baseDir,"cluster");
    }
  }
  if (baseDir != null) {
    if (!baseDir.exists() && !baseDir.mkdirs()) {
      throw new IOException("Unable to create directory: " + baseDir);
    }
  }
  JMSConfiguration.setConfigPathDir(baseDir);
}
