{
  if (!enabled) {
    return;
  }
  Lock lock;
  if (type == LockType.WRITE) {
    lock=readWriteLock.writeLock();
  }
 else {
    lock=readWriteLock.readLock();
  }
  if (LOGGER.isLoggable(LEVEL)) {
    LOGGER.log(LEVEL,"Thread " + Thread.currentThread().getId() + " locking in mode "+ type);
  }
  lock.lock();
  if (LOGGER.isLoggable(LEVEL)) {
    LOGGER.log(LEVEL,"Thread " + Thread.currentThread().getId() + " got the lock in mode "+ type);
  }
}
