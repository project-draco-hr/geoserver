{
  GeoServerSecurityFilterChain filterChain=new GeoServerSecurityFilterChain();
  while (reader.hasMoreChildren()) {
    reader.moveDown();
    String path=reader.getAttribute("path");
    String name=reader.getAttribute("name");
    if (name == null) {
      RequestFilterChain requestChain=GeoServerSecurityFilterChain.lookupRequestChainByPattern(path,GeoServerSecurityManager.this);
      if (requestChain != null) {
        name=requestChain.getName();
      }
 else {
        name=path;
      }
    }
    ArrayList<String> filterNames=new ArrayList<String>();
    while (reader.hasMoreChildren()) {
      reader.moveDown();
      filterNames.add(reader.getValue());
      reader.moveUp();
    }
    RequestFilterChain requestChain=new RequestFilterChain(path.split(","));
    requestChain.setName(name);
    requestChain.setFilterNames(filterNames);
    filterChain.getRequestChains().add(requestChain);
    reader.moveUp();
  }
  filterChain.simplify();
  return filterChain;
}
