{
  layerInfoTileLayer=new GeoServerTileLayer(catalogConfig,layerInfo);
  List<ParameterFilter> parameterFilters=layerInfoTileLayer.getParameterFilters();
  assertNotNull(parameterFilters);
  assertEquals(1,parameterFilters.size());
  assertTrue(parameterFilters.get(0) instanceof StringParameterFilter);
  StringParameterFilter styleFilter=(StringParameterFilter)parameterFilters.get(0);
  assertEquals("STYLES",styleFilter.getKey());
  assertEquals("default_style",styleFilter.getDefaultValue());
  assertEquals(new HashSet<String>(Arrays.asList("default_style","alternateStyle-1","alternateStyle-2")),new HashSet<String>(styleFilter.getLegalValues()));
  layerInfoTileLayer.getInfo().setCachedStyles(Collections.singleton("alternateStyle-2"));
}
