{
  try {
    Catalog catalog=getCatalog();
    if (catalog.getStyleByName(name) == null) {
      StyleInfo style=catalog.getFactory().createStyle();
      style.setName(name);
      style.setFilename(name + ".sld");
      catalog.add(style);
      File sld=findStyleFile(style.getFilename());
      if (sld == null || !sld.exists()) {
        catalog.getResourcePool().writeStyle(style,new ByteArrayInputStream(cssText2sldText(defaultStyle).getBytes()));
      }
      File css=findStyleFile(name + ".css");
      if (!css.exists()) {
        FileWriter writer=new FileWriter(css);
        writer.write(defaultStyle);
        writer.close();
      }
    }
  }
 catch (  IOException ioe) {
    throw new WicketRuntimeException(ioe);
  }
}
