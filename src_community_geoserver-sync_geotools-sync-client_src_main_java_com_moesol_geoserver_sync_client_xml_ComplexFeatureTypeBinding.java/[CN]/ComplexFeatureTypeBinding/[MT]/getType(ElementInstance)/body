{
  AttributeType featureType=null;
  XSDTypeDefinition def=instance.getTypeDefinition();
  try {
    featureType=registry.getDescriptor(new NameImpl(instance.getNamespace(),instance.getName())).getType();
  }
 catch (  Throwable t) {
  }
  if (featureType == null)   featureType=registry.getAttributeType(new NameImpl(def.getTargetNamespace(),def.getName()));
  return featureType;
}
