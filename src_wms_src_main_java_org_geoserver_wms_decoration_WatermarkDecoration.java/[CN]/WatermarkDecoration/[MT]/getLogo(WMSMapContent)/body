{
  BufferedImage logo=null;
  URL url=null;
  try {
    url=new URL(GeoserverDataDirectory.getGeoserverDataDirectory().toURL(),imageURL);
    if (url.getProtocol() == null || url.getProtocol().equals("file")) {
      File file=GeoserverDataDirectory.findDataFile(imageURL);
      if (file.exists())       url=file.toURL();
    }
  }
 catch (  MalformedURLException e) {
    url=null;
  }
  if (url == null)   return null;
  LogoCacheEntry entry=logoCache.get(url);
  if (entry == null || entry.isExpired()) {
    logo=ImageIO.read(url);
    if (url.getProtocol().equals("file")) {
      entry=new LogoCacheEntry(logo,new File(url.getFile()));
      logoCache.put(url,entry);
    }
  }
 else {
    logo=entry.getLogo();
  }
  return logo;
}
