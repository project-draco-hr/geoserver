{
  List<AuthenticationKeyMapper> mappers=GeoServerExtensions.extensions(AuthenticationKeyMapper.class,applicationContext);
  if (mappers.size() > 0) {
    this.mapper=mappers.get(0);
  }
 else {
    PropertyAuthenticationKeyMapper pam=new PropertyAuthenticationKeyMapper();
    if (userDetailsService instanceof GeoserverUserDao) {
      pam.setUserDetailsService((GeoserverUserDao)userDetailsService);
    }
    this.mapper=pam;
  }
}
