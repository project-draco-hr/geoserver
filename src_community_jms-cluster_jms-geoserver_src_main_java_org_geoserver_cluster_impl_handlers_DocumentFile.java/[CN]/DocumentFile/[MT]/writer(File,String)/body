{
  FileWriter writer=null;
  StringReader reader=null;
  try {
    writer=new FileWriter(file);
    reader=new StringReader(xml);
    char[] cbuf=new char[2048];
    int size=0;
    while (reader.ready() && (size=reader.read(cbuf)) != -1) {
      writer.write(cbuf,0,size);
    }
  }
  finally {
    writer.flush();
    IOUtils.closeQuietly(writer);
    IOUtils.closeQuietly(reader);
  }
}
