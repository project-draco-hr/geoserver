{
  super.initializeFromConfig(config);
  aep=new AuthenticationEntryPoint(){
    @Override public void commence(    HttpServletRequest request,    HttpServletResponse response,    AuthenticationException authException) throws IOException, ServletException {
      final StringBuilder loginUri=new StringBuilder(filterConfig.getUserAuthorizationUri());
      loginUri.append("?").append("response_type=code").append("&").append("client_id=").append(filterConfig.getCliendId()).append("&").append("scope=").append(filterConfig.getScopes().replace(",","%20")).append("&").append("redirect_uri=").append(filterConfig.getRedirectUri());
      if (filterConfig.getEnableRedirectAuthenticationEntryPoint() || request.getRequestURI().endsWith(FILTER_LOGIN_ENDPOINT)) {
        response.sendRedirect(loginUri.toString());
      }
    }
  }
;
}
