{
  List<PreviewLayer> result=new ArrayList<PreviewLayer>();
  List<LayerInfo> layers=getCatalog().getLayers();
  for (  LayerInfo layer : layers) {
    if (layer.enabled())     result.add(new PreviewLayer(layer));
  }
  final List<LayerGroupInfo> layerGroups=getCatalog().getLayerGroups();
  for (  LayerGroupInfo group : layerGroups) {
    boolean enabled=true;
    layers=group.getLayers();
    for (    LayerInfo layer : layers) {
      enabled&=layer.enabled();
    }
    if (enabled)     result.add(new PreviewLayer(group));
  }
  return result;
}
