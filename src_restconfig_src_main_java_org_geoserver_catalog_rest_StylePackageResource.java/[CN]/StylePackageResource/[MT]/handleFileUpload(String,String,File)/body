{
  getResponse().setStatus(Status.SUCCESS_ACCEPTED);
  MediaType mediaType=getRequest().getEntity().getMediaType();
  if (mediaType == null || !(RESTUtils.isZipMediaType(mediaType))) {
    throw new RestletException("SLD package file must be a zip file",Status.CLIENT_ERROR_BAD_REQUEST);
  }
  if (LOGGER.isLoggable(Level.INFO))   LOGGER.info("PUT file, mimetype: " + mediaType);
  File uploadedFile=null;
  try {
    uploadedFile=RESTUtils.handleBinUpload(style,directory,true,getRequest(),workspaceName);
    LOGGER.fine("handleFileUpload: " + uploadedFile.getAbsolutePath());
  }
 catch (  Throwable t) {
    throw new RestletException("Error while storing uploaded file:",Status.SERVER_ERROR_INTERNAL,t);
  }
  if (mediaType != null && RESTUtils.isZipMediaType(mediaType)) {
    if (!uploadedFile.getName().endsWith(".zip")) {
      File newUploadedFile=new File(uploadedFile.getParentFile(),FilenameUtils.getBaseName(uploadedFile.getAbsolutePath()) + ".zip");
      uploadedFile.renameTo(newUploadedFile);
      uploadedFile=newUploadedFile;
    }
    try {
      RESTUtils.unzipFile(uploadedFile,directory);
      File[] matchingFiles=directory.listFiles(new FilenameFilter(){
        public boolean accept(        File dir,        String name){
          return (name.endsWith("sld") || name.endsWith("svg") || name.endsWith("png")|| name.endsWith("jpg"));
        }
      }
);
    }
 catch (    RestletException e) {
      throw e;
    }
catch (    Exception e) {
      throw new RestletException("Error occured unzipping file",Status.SERVER_ERROR_INTERNAL,e);
    }
  }
 else {
  }
}
