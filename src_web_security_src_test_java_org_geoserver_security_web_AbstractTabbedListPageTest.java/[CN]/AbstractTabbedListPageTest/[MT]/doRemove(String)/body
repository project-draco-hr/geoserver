{
  GeoserverTablePanelTestPage testPage=new GeoserverTablePanelTestPage(new ComponentBuilder(){
    private static final long serialVersionUID=1L;
    public Component buildComponent(    String id){
      try {
        return listPage(getServiceName());
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
);
  tester.startPage(testPage);
  String selectAllPath=testPage.getWicketPath() + ":" + getTabbedPanelPath()+ ":panel:table:listContainer:selectAllContainer:selectAll";
  tester.assertComponent(selectAllPath,CheckBox.class);
  FormTester ft=tester.newFormTester(GeoserverTablePanelTestPage.FORM);
  ft.setValue(testPage.getComponentId() + ":" + getTabbedPanelPath()+ ":panel:table:listContainer:selectAllContainer:selectAll","true");
  tester.executeAjaxEvent(selectAllPath,"onclick");
  String windowPath=testPage.getWicketPath() + ":" + getTabbedPanelPath()+ ":panel:dialog:dialog";
  ModalWindow w=(ModalWindow)testPage.get(windowPath);
  assertNull(w.getTitle());
  tester.executeAjaxEvent(pathForLink,"onclick");
  assertNotNull(w.getTitle());
  simulateDeleteSubmit();
  executeModalWindowCloseButtonCallback(w);
}
