{
  super.onSetUp(testData);
  addWcs11Coverages(testData);
  WPSInfo wps=getGeoServer().getService(WPSInfo.class);
  wps.setMaxComplexInputSize(10);
  ProcessGroupInfo geoGroup=new ProcessGroupInfoImpl();
  geoGroup.setFactoryClass(GeometryProcessFactory.class);
  geoGroup.setEnabled(true);
  wps.getProcessGroups().add(geoGroup);
  ProcessInfo buffer=new ProcessInfoImpl();
  buffer.setEnabled(true);
  buffer.setName(new NameImpl("geo","buffer"));
  buffer.getValidators().put("geom",new MaxSizeValidator(1));
  buffer.getValidators().put("distance",new NumberRangeValidator(new NumberRange<Double>(Double.class,0d,100d)));
  buffer.getValidators().put("quadrantSegments",new NumberRangeValidator(new NumberRange<Integer>(Integer.class,2,20)));
  geoGroup.getFilteredProcesses().add(buffer);
  ProcessInfo simplify=new ProcessInfoImpl();
  simplify.setEnabled(true);
  simplify.setName(new NameImpl("geo","simplify"));
  simplify.getValidators().put("distance",new NumberRangeValidator(new NumberRange<Double>(Double.class,null,100d)));
  geoGroup.getFilteredProcesses().add(simplify);
  ProcessInfo densify=new ProcessInfoImpl();
  densify.setEnabled(true);
  densify.setName(new NameImpl("geo","densify"));
  densify.getValidators().put("distance",new NumberRangeValidator(new NumberRange<Double>(Double.class,0d,null)));
  geoGroup.getFilteredProcesses().add(densify);
  ProcessGroupInfo rasterGroup=new ProcessGroupInfoImpl();
  rasterGroup.setFactoryClass(RasterProcessFactory.class);
  rasterGroup.setEnabled(true);
  wps.getProcessGroups().add(rasterGroup);
  ProcessInfo contour=new ProcessInfoImpl();
  contour.setEnabled(true);
  contour.setName(new NameImpl("ras","Contour"));
  contour.getValidators().put("data",new MaxSizeValidator(1));
  contour.getValidators().put("levels",new NumberRangeValidator(new NumberRange<Double>(Double.class,-8000d,8000d)));
  contour.getValidators().put("levels",new MultiplicityValidator(3));
  rasterGroup.getFilteredProcesses().add(contour);
  getGeoServer().save(wps);
}
