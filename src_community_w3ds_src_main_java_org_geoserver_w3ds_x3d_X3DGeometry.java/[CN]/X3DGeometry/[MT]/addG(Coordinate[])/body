{
  for (  Coordinate coordinate : coordinates) {
    if (coordinate.z == Double.NaN) {
      coordinate.z=0;
    }
    if (this.pointsIndexis.containsKey(coordinate)) {
      this.indexis.append(pointsIndexis.get(coordinate) + " ");
      this.index++;
    }
 else {
      this.coordinates.add(coordinate);
      this.points.append(String.valueOf(coordinate.x) + " ");
      this.points.append(String.valueOf(coordinate.y) + " ");
      this.points.append(String.valueOf(coordinate.z) + " ");
      this.index++;
      this.pointsIndexis.put(this.getHashCode(coordinate),this.index);
      this.indexis.append(this.index + " ");
    }
  }
  this.indexis.append("-1 ");
}
