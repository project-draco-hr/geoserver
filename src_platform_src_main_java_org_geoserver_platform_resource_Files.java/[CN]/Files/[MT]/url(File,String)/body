{
  if (url.startsWith("file:/")) {
    try {
      return DataUtilities.urlToFile(new URL(url));
    }
 catch (    Exception e) {
    }
  }
  if (url.startsWith("file:")) {
    url=url.substring(5);
    File f=new File(url);
    if (f.isAbsolute() || f.exists()) {
      return f;
    }
 else {
      if (baseDirectory != null) {
        return new File(baseDirectory,url);
      }
      return f;
    }
  }
 else {
    File file=new File(url);
    if (file.isAbsolute() || file.exists()) {
      return file;
    }
    if (baseDirectory != null) {
      file=new File(baseDirectory,url);
      if (file.exists()) {
        return file;
      }
    }
    return null;
  }
}
