{
  this.mapContent=mapContent;
  this.request=mapContent.getRequest();
  this.wms=wms;
  this.descriptionEnabled=computeKMAttr();
  this.lookAtOptions=new LookAtOptions(request.getFormatOptions());
  this.placemarkForced=computeKmplacemark();
  this.superOverlayMode=computeSuperOverlayMode();
  this.superOverlayEnabled=computeSuperOverlayEnabled();
  this.extendedDataEnabled=computeExtendedDataEnabled();
  this.kmScore=computeKmScore();
  this.networkLinksFormat=KMLMapOutputFormat.NL_KML_MIME_TYPE.equals(request.getFormat()) || KMZMapOutputFormat.NL_KMZ_MIME_TYPE.equals(request.getFormat());
  this.kmz=kmz;
  this.service=wms.getServiceInfo();
}
