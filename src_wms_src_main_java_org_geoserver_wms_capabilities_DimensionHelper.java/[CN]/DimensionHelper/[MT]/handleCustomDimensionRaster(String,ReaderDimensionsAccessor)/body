{
  final TreeSet<Object> domain=dimAccessor.getDomain(dimName);
  final String metadata;
  final int count=domain == null ? 0 : domain.size();
  if (count == 0) {
    metadata="";
  }
 else   if (count == 1) {
    metadata=domain.first().toString();
  }
 else {
    StringBuilder sb=new StringBuilder();
    for (    Object value : domain) {
      sb.append(value.toString()).append(',');
    }
    metadata=sb.substring(0,sb.length() - 1);
  }
  if (dimName.regionMatches(true,0,"dim_",0,4)) {
    writeDimension(dimName.substring(4),metadata);
  }
 else {
    writeDimension(dimName,metadata);
  }
}
