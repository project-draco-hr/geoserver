{
  LinkedHashMap<String,Ftplet> ftplets=new LinkedHashMap<String,Ftplet>();
  List<FTPCallback> callbacks=GeoServerExtensions.extensions(FTPCallback.class);
  Map<String,Integer> names=new HashMap<String,Integer>();
  for (  FTPCallback callback : callbacks) {
    FtpLetCallBackAdapter ftplet=new FtpLetCallBackAdapter(callback);
    String name=callback.getClass().getName();
    Integer index=names.containsKey(name) ? (names.get(name) + 1) : 1;
    names.put(name,index);
    ftplets.put(name + "-" + index,ftplet);
  }
  return ftplets;
}
