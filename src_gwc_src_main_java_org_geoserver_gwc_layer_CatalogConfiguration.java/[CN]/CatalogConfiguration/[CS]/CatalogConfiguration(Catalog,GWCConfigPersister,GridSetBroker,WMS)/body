{
  Assert.notNull(catalog);
  Assert.notNull(configProvider);
  Assert.notNull(gridSetBroker);
  this.catalog=catalog;
  this.configProvider=configProvider;
  this.gridSetBroker=gridSetBroker;
  this.wmsFacade=wmsFacade;
  this.catalogLayerEventListener=new CatalogLayerEventListener(this);
  this.catalogStyleChangeListener=new CatalogStyleChangeListener(this);
  catalog.addListener(catalogLayerEventListener);
  catalog.addListener(catalogStyleChangeListener);
}
