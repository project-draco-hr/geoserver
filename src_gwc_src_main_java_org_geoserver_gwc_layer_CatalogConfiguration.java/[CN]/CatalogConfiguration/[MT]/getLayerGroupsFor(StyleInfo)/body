{
  List<LayerGroupInfo> layerGroups=new ArrayList<LayerGroupInfo>();
  for (  LayerGroupInfo layerGroup : catalog.getLayerGroups()) {
    final List<StyleInfo> explicitLayerGroupStyles=layerGroup.getStyles();
    final List<LayerInfo> groupLayers=layerGroup.getLayers();
    for (int layerN=0; layerN < groupLayers.size(); layerN++) {
      LayerInfo childLayer=groupLayers.get(layerN);
      StyleInfo assignedLayerStyle=explicitLayerGroupStyles.get(layerN);
      if (assignedLayerStyle == null) {
        assignedLayerStyle=childLayer.getDefaultStyle();
      }
      if (style.equals(assignedLayerStyle)) {
        layerGroups.add(layerGroup);
        break;
      }
    }
  }
  return layerGroups;
}
