{
  if (writer == null) {
    if (cacheContent) {
      String charset=super.getCharacterEncoding();
      writer=new PrintWriter(new OutputStreamWriter(getOutputStream(),charset));
    }
 else {
      writer=super.getWriter();
    }
  }
  return writer;
}
