{
  if (isCacheing()) {
    if (cache == null) {
      cache=new ByteArrayOutputStream();
    }
    cache.write(b);
  }
 else {
    if (actualStream == null) {
      actualStream=getOutputStreamInternal();
    }
    actualStream.write(b);
  }
}
