{
  Document doc=getAsDOM("wfs?request=DescribeFeatureType&version=1.1.0");
  LOGGER.info("WFS DescribeFeatureType response:\n" + prettyString(doc));
  assertEquals("xsd:schema",doc.getDocumentElement().getNodeName());
  String targetNamespace=evaluate("//@targetNamespace",doc);
  assertFalse(targetNamespace.isEmpty());
  int numberOfImports=getMatchingNodes("//xsd:import",doc).getLength();
  int numberOfIncludes=getMatchingNodes("//xsd:include",doc).getLength();
  if (targetNamespace.equals(FeatureChainingMockData.EX_URI)) {
    assertEquals(2,numberOfImports);
    assertEquals(2,numberOfIncludes);
  }
 else {
    assertEquals(2,numberOfImports);
    assertEquals(1,numberOfIncludes);
  }
  ArrayList<String> namespaces=new ArrayList<String>();
  namespaces.add(AbstractAppSchemaMockData.GSML_URI);
  namespaces.add(FeatureChainingMockData.EX_URI);
  namespaces.add(FeatureChainingMockData.OM_URI);
  for (int i=1; i <= numberOfImports + numberOfIncludes; i++) {
    String namespace;
    String schemaLocation;
    if (i <= numberOfImports) {
      namespace=evaluate("//xsd:import[" + i + "]/@namespace",doc);
      schemaLocation="//xsd:import[" + i + "]/@schemaLocation";
      assertFalse(namespace.equals(targetNamespace));
    }
 else {
      namespace=targetNamespace;
      schemaLocation="//xsd:include[" + (i - numberOfImports) + "]/@schemaLocation";
    }
    if (namespace.equals(AbstractAppSchemaMockData.GSML_URI)) {
      assertXpathEvaluatesTo(AbstractAppSchemaMockData.GSML_SCHEMA_LOCATION_URL,schemaLocation,doc);
      namespaces.remove(AbstractAppSchemaMockData.GSML_URI);
    }
 else     if (namespace.equals(FeatureChainingMockData.EX_URI)) {
      String loc=evaluate(schemaLocation,doc);
      assertTrue(loc.equals(getExSchemaOneLocation()) || loc.equals(getExSchemaTwoLocation()));
      namespaces.remove(FeatureChainingMockData.EX_URI);
    }
 else {
      assertEquals(FeatureChainingMockData.OM_URI,namespace);
      assertXpathEvaluatesTo(FeatureChainingMockData.OM_SCHEMA_LOCATION_URL,schemaLocation,doc);
      namespaces.remove(FeatureChainingMockData.OM_URI);
    }
  }
  assertTrue(namespaces.isEmpty());
  assertXpathCount(0,"//xsd:complexType",doc);
  assertXpathCount(0,"//xsd:element",doc);
}
