{
  File sampleLegendFile=sampleLegend.file();
  PngReader pngReader=null;
  try {
    pngReader=new PngReader(sampleLegendFile);
    return new Dimension(pngReader.imgInfo.cols,pngReader.imgInfo.rows);
  }
 catch (  Exception e) {
    LOGGER.log(Level.WARNING,"Cannot read sample legend image from " + sampleLegendFile.getAbsolutePath(),e);
    return null;
  }
 finally {
    if (pngReader != null) {
      pngReader.close();
    }
  }
}
