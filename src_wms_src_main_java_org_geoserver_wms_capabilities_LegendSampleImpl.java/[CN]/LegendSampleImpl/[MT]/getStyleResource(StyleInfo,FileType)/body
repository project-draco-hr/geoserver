{
  String[] prefix=new String[0];
  if (style.getWorkspace() != null) {
    prefix=new String[]{"workspaces",style.getWorkspace().getName()};
  }
  String fileName=type == FileType.SLD ? style.getFilename() : style.getName() + "." + DEFAULT_SAMPLE_FORMAT;
  String[] pathParts=(String[])ArrayUtils.addAll(prefix,new String[]{"styles",fileName});
  String path=Paths.path(pathParts);
  return loader.get(path);
}
