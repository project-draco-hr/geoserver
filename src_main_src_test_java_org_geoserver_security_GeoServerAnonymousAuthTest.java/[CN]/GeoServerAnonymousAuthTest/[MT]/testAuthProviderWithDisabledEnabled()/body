{
  disableAnonymousAuth();
  GeoServerSecurityManager secMgr=getSecurityManager();
  try {
    secMgr.authenticate(new AnonymousAuthenticationToken("geoserver","anonymousUser",(List)Arrays.asList(new GrantedAuthorityImpl("ROLE_ANONYMOUS"))));
    fail();
  }
 catch (  ProviderNotFoundException pnfe) {
  }
}
