{
  returnPageClass=EoLayerGroupPage.class;
  lgModel=new LayerGroupDetachableModel(layerGroup);
  Form<LayerGroupInfo> form=new Form<LayerGroupInfo>("form",new CompoundPropertyModel<LayerGroupInfo>(lgModel)){
    @Override public IConverter getConverter(    Class<?> type){
      if (LayerInfo.class.isAssignableFrom(type)) {
        return new LayerInfoConverter();
      }
 else       if (StyleInfo.class.isAssignableFrom(type)) {
        return new StyleInfoConverter();
      }
 else {
        return super.getConverter(type);
      }
    }
  }
;
  add(form);
  browseImageLayerPanel=new BrowseImageLayerEntryPanel("browseImageLayer",form,layerGroup.getWorkspace());
  addPanelToForm(browseImageLayerPanel,"browseImageLayerContainer",form);
  bandsLayerPanel=new BandsLayerEntryPanel("bandsLayer",form,layerGroup.getWorkspace());
  addPanelToForm(bandsLayerPanel,"bandsLayerContainer",form);
  outlineLayerPanel=new OutlineLayerEntryPanel("outlineLayer",form,layerGroup.getWorkspace());
  addPanelToForm(outlineLayerPanel,"outlineLayerContainer",form);
  TextField<String> name=new TextField<String>("name");
  name.setEnabled(false);
  form.add(name);
  form.add(new TextField<String>("title"));
  form.add(new TextArea<String>("abstract"));
  DropDownChoice<WorkspaceInfo> wsChoice=new DropDownChoice<WorkspaceInfo>("workspace",new WorkspacesModel(),new WorkspaceChoiceRenderer());
  wsChoice.setNullValid(true);
  if (!isAuthenticatedAsAdmin()) {
    wsChoice.setNullValid(false);
    wsChoice.setRequired(true);
  }
  form.add(wsChoice);
  form.add(envelopePanel=new EnvelopePanel("bounds"));
  envelopePanel.setRequired(true);
  envelopePanel.setCRSFieldVisible(true);
  envelopePanel.setOutputMarkupId(true);
  form.add(new GeoServerAjaxFormLink("generateBounds"){
    @Override public void onClick(    AjaxRequestTarget target,    Form form){
      envelopePanel.setModelObject(calculateBounds(lgEntryPanel.getEntries()));
    }
  }
);
  form.add(lgEntryPanel=new EoLayerGroupEntryPanel("layers",layerGroup));
  form.add(extensionPanels=extensionPanels());
  form.add(saveLink());
  form.add(cancelLink());
}
