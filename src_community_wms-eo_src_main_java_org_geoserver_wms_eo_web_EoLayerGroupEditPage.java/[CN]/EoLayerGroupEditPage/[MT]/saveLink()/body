{
  return new SubmitLink("save"){
    @Override public void onSubmit(){
      LayerGroupInfo lg=(LayerGroupInfo)lgModel.getObject();
      lg.getLayers().clear();
      lg.getStyles().clear();
      lg.getLayers().add(bandsLayerPanel.getLayer());
      lg.getStyles().add(bandsLayerPanel.getLayerStyle());
      lg.getLayers().add(outlineLayerPanel.getLayer());
      lg.getStyles().add(outlineLayerPanel.getLayerStyle());
      for (      LayerGroupEntry entry : lgEntryPanel.getEntries()) {
        lg.getLayers().add(entry.getLayer());
        lg.getStyles().add(entry.getStyle());
      }
      try {
        EoLayerGroupEditPage.this.save();
      }
 catch (      Exception e) {
        error(e);
        LOGGER.log(Level.WARNING,"Error editing layer group.",e);
      }
    }
  }
;
}
