{
  try {
    SimpleHash model=new SimpleHash();
    model.put("markupId",getMarkupId());
    response.renderString(renderTemplate("OL-css.ftl",model));
    response.renderJavascriptReference("http://openlayers.org/api/OpenLayers.js");
    model.put("layers",layer.getName());
    model.put("styles",style.getName());
    bbox(layer,model);
    model.put("ran",rand.nextInt());
    response.renderOnLoadJavascript(renderTemplate("OL-onload.ftl",model));
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
