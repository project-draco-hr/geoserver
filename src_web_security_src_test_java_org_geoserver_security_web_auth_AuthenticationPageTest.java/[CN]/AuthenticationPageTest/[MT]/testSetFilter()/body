{
  initializeForXML();
  activateRORoleService();
  tester.startPage(page=new AuthenticationPage());
  tester.assertModelValue("form:filterChain:requestType",FilterChain.WEB);
  tester.assertComponent("form:filterChain:authFilterChain:recorder",Recorder.class);
  List<String> selected=(List<String>)(page.get("form:filterChain:authFilterChain")).getDefaultModelObject();
  assertEquals(2,selected.size());
  assertTrue(selected.contains(ANONYMOUS_FILTER));
  assertTrue(selected.contains(REMEMBER_ME_FILTER));
  GeoServerSecurityFilterChain filterChain=getSecurityManager().getSecurityConfig().getFilterChain();
  assertTrue(filterChain.getFilterMap().get(WEB_CHAIN).contains(ANONYMOUS_FILTER));
  assertTrue(filterChain.getFilterMap().get(WEB_CHAIN).contains(REMEMBER_ME_FILTER));
  assertFalse(filterChain.getFilterMap().get(WEB_CHAIN).contains(BASIC_AUTH_FILTER));
  FormTester form=tester.newFormTester("form");
  form.setValue("filterChain:authFilterChain:recorder",BASIC_AUTH_FILTER);
  form.submit("save");
  tester.assertNoErrorMessage();
  filterChain=getSecurityManager().getSecurityConfig().getFilterChain();
  assertTrue(filterChain.getFilterMap().get(WEB_CHAIN).contains(BASIC_AUTH_FILTER));
}
