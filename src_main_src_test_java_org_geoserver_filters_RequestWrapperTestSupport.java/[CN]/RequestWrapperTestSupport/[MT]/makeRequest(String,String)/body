{
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setScheme("http");
  request.setServerName("localhost");
  request.setContextPath("/geoserver");
  request.setRequestURI("/geoserver");
  request.setQueryString(queryString != null ? queryString : "");
  request.setRemoteAddr("127.0.0.1");
  request.setServletPath("/geoserver");
  request.setContentType("application/x-www-form-urlencoded");
  request.setMethod("POST");
  request.setBodyContent(body);
  MockHttpSession session=new MockHttpSession();
  session.setupServletContext(new MockServletContext());
  request.setSession(session);
  request.setUserPrincipal(null);
  return request;
}
