{
  if (params.containsKey("layer")) {
    String[] name=params.getString("layer").split(":",2);
    return catalog.getResourceByName(name[0],name[1],FeatureTypeInfo.class);
  }
 else {
    FeatureTypeInfo states=catalog.getResourceByName("topp","states",FeatureTypeInfo.class);
    if (states != null) {
      return states;
    }
 else {
      List<FeatureTypeInfo> layers=catalog.getResources(FeatureTypeInfo.class);
      if (layers.size() > 0) {
        return layers.get(0);
      }
 else {
        return null;
      }
    }
  }
}
