{
  SimpleFeatureTypeBuilder tb=new SimpleFeatureTypeBuilder();
  tb.setName("feature");
  tb.add("geometry",Point.class);
  tb.add("name",String.class);
  SimpleFeatureType type=tb.buildFeatureType();
  FeatureCollection features=new DefaultFeatureCollection(null,null);
  SimpleFeatureBuilder b=new SimpleFeatureBuilder(type);
  b.add(new GeometryFactory().createPoint(new Coordinate(0,0)));
  b.add("zero");
  features.add(b.buildFeature("fid.0"));
  b.add(new GeometryFactory().createPoint(new Coordinate(1,1)));
  b.add("one");
  features.add(b.buildFeature("fid.1"));
  FeatureCollectionType fc=WfsFactory.eINSTANCE.createFeatureCollectionType();
  fc.getFeature().add(features);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  adapter.write(FeatureCollectionResponse.adapt(fc),out);
  assertEquals("fid.0;fid.1;",new String(out.toByteArray()));
}
