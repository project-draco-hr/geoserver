{
  Coordinate firstPoint=geometry.getCoordinate();
  if (geometry instanceof Point || (geometry instanceof MultiPoint) && ((MultiPoint)geometry).getNumPoints() == 1) {
    Coordinate c=firstPoint;
    return toKmlPoint(c);
  }
 else {
    MultiGeometry mg=new MultiGeometry();
    Coordinate c=geometry.getCentroid().getCoordinate();
    if (!Double.isNaN(firstPoint.z)) {
      c.setOrdinate(2,firstPoint.z);
    }
    mg.addToGeometry(toKmlPoint(c));
    encodeGeometry(mg,geometry);
    return mg;
  }
}
