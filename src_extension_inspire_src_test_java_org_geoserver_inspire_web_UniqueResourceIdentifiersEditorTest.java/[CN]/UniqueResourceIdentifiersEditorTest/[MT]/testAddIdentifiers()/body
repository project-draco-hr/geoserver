{
  tester.executeAjaxEvent("form:panel:addIdentifier","click");
  tester.assertModelValue("form:panel:container:identifiers:listContainer:items:3:itemProperties:0:component:border:border_body:txt",null);
  tester.assertModelValue("form:panel:container:identifiers:listContainer:items:3:itemProperties:1:component:border:border_body:txt",null);
  FormTester ft=tester.newFormTester("form");
  ft.submit();
  List<Serializable> messages=tester.getMessages(FeedbackMessage.ERROR);
  assertEquals(1,messages.size());
  String message=(String)((ValidationErrorFeedback)messages.get(0)).getMessage();
  assertTrue(message.contains("Code"));
  ft=tester.newFormTester("form");
  ft.setValue("panel:container:identifiers:listContainer:items:3:itemProperties:0:component:border:border_body:txt","code");
  ft.submit();
  tester.assertNoErrorMessage();
  tester.assertModelValue("form:panel:container:identifiers:listContainer:items:3:itemProperties:0:component:border:border_body:txt","code");
  ft=tester.newFormTester("form");
  ft.setValue("panel:container:identifiers:listContainer:items:3:itemProperties:1:component:border:border_body:txt","invalid uri");
  ft.submit();
  messages=tester.getMessages(FeedbackMessage.ERROR);
  assertEquals(1,messages.size());
  ft=tester.newFormTester("form");
  ft.setValue("panel:container:identifiers:listContainer:items:3:itemProperties:1:component:border:border_body:txt","http://www.geoserver.org/meta");
  ft.submit();
  tester.assertNoErrorMessage();
  tester.assertModelValue("form:panel:container:identifiers:listContainer:items:3:itemProperties:1:component:border:border_body:txt","http://www.geoserver.org/meta");
  ft=tester.newFormTester("form");
  ft.setValue("panel:container:identifiers:listContainer:items:3:itemProperties:2:component:border:border_body:txt","invalid uri");
  ft.submit();
  messages=tester.getMessages(FeedbackMessage.ERROR);
  assertEquals(1,messages.size());
  ft=tester.newFormTester("form");
  ft.setValue("panel:container:identifiers:listContainer:items:3:itemProperties:2:component:border:border_body:txt","http://www.geoserver.org/meta");
  ft.submit();
  tester.assertNoErrorMessage();
  tester.assertModelValue("form:panel:container:identifiers:listContainer:items:3:itemProperties:2:component:border:border_body:txt","http://www.geoserver.org/meta");
}
