{
  this.name=config.getName();
  initializeDSFromConfig(config);
  if (config instanceof JDBCSecurityServiceConfig) {
    JDBCSecurityServiceConfig jdbcConfig=(JDBCSecurityServiceConfig)config;
    String fileNameDML=jdbcConfig.getPropertyFileNameDML();
    File file=checkORCreateJDBCPropertyFile(fileNameDML,getConfigRoot(),DEFAULT_DML_FILE);
    dmlProps=Util.loadUniversal(new FileInputStream(file));
    String fileNameDDL=jdbcConfig.getPropertyFileNameDDL();
    if (fileNameDDL != null && fileNameDDL.length() > 0) {
      file=checkORCreateJDBCPropertyFile(fileNameDDL,getConfigRoot(),DEFAULT_DDL_FILE);
      ddlProps=Util.loadUniversal(new FileInputStream(file));
      createTablesIfRequired((JDBCSecurityServiceConfig)config);
    }
  }
  if (((SecurityRoleServiceConfig)config).getAdminRoleName() != null) {
    adminRole=createRoleObject(GeoServerRole.ADMIN_ROLE.getAuthority());
  }
}
