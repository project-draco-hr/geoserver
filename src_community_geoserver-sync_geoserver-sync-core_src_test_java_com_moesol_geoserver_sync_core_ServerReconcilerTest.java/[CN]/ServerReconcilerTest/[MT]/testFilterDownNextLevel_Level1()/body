{
  Sha1SyncJson local=new Sha1SyncJson().level(0).max(2).hashes(new Sha1SyncPositionHash().position("").summary("010101"));
  Sha1SyncJson remote=new Sha1SyncJson().level(0).max(2).hashes(new Sha1SyncPositionHash().position("").summary("000000"));
  Sha1SyncJson output=new Sha1SyncJson().level(2).max(1).hashes(new Sha1SyncPositionHash().position("aa").summary("111111"),new Sha1SyncPositionHash().position("bb").summary("222222"),new Sha1SyncPositionHash().position("cc").summary("333333"));
  ServerReconciler r=new ServerReconciler(local,remote);
  r.filterDownNextLevel(output);
  check(output,0,"aa","111111");
  check(output,1,"bb","222222");
  check(output,2,"cc","333333");
  assertEquals(3,output.hashes().size());
}
