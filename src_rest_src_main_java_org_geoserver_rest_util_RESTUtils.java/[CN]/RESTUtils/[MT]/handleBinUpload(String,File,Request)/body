{
  final File newFile=new File(directory,fileName);
  if (newFile.exists()) {
    FileUtils.cleanDirectory(directory);
  }
  final ReadableByteChannel source=request.getEntity().getChannel();
  final FileChannel outputChannel=IOUtils.getOuputChannel(newFile);
  IOUtils.copyChannel(1024 * 1024,source,outputChannel);
  IOUtils.closeQuietly(source);
  IOUtils.closeQuietly(outputChannel);
  return newFile;
}
