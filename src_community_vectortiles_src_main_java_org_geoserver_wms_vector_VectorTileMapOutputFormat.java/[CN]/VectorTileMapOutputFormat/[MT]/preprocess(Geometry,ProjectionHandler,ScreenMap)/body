{
  if (projectionHandler == null) {
    return originalGeom;
  }
  if (originalGeom == null || originalGeom.isEmpty()) {
    return null;
  }
  Geometry preProcessed=projectionHandler.preProcess(originalGeom);
  if (preProcessed == null || preProcessed.isEmpty()) {
    return null;
  }
  if (preProcessed instanceof GeometryCollection && preProcessed.getNumGeometries() == 1) {
    preProcessed=preProcessed.getGeometryN(0);
  }
  if (preProcessed.getDimension() > 0 && screenMap != null) {
    Envelope env=preProcessed.getEnvelopeInternal();
    if (screenMap.canSimplify(env))     if (screenMap.checkAndSet(env)) {
      return null;
    }
 else {
      preProcessed=screenMap.getSimplifiedShape(env.getMinX(),env.getMinY(),env.getMaxX(),env.getMaxY(),preProcessed.getFactory(),preProcessed.getClass());
    }
  }
  return preProcessed;
}
