{
  Collection<Property> propertyList=f.getProperties(CSWRecordTypes.RECORD_BBOX_NAME);
  Property[] properties=(Property[])propertyList.toArray(new Property[propertyList.size()]);
  assertEquals(properties.length,envelopes.length);
  ReferencedEnvelope total=null;
  for (int i=0; i < properties.length; i++) {
    Attribute at=(Attribute)properties[i];
    assertEquals(envelopes[i],at.getValue());
    ReferencedEnvelope re=envelopes[i].transform(DefaultGeographicCRS.WGS84,true);
    if (total == null) {
      total=re;
    }
 else {
      total.expandToInclude(re);
    }
  }
  Geometry geometry=(Geometry)f.getDefaultGeometryProperty().getValue();
  assertTrue(total.contains(geometry.getEnvelopeInternal()));
}
