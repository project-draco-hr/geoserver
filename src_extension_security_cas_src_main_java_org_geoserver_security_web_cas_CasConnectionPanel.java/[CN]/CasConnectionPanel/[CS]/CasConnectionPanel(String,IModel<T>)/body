{
  super(id,new Model());
  dialog=new GeoServerDialog("dialog");
  add(dialog);
  add(new TextField<String>("casServerUrlPrefix"));
  add(new HelpLink("casServerUrlPrefixHelp",this).setDialog(dialog));
  add(new CheckBox("sendRenew"));
  add(new TextField<String>("proxyCallbackUrlPrefix").setRequired(false));
  add(new HelpLink("proxyCallbackUrlPrefixHelp",this).setDialog(dialog));
  add(new AjaxSubmitLink("casServerTest"){
    @Override protected void onSubmit(    AjaxRequestTarget target,    Form<?> form){
      try {
        testURL("casServerUrlPrefix",GeoServerCasConstants.LOGOUT_URI);
        info(new StringResourceModel("casConnectionSuccessful",CasConnectionPanel.this,null).getObject());
      }
 catch (      Exception e) {
        error(e);
        LOGGER.log(Level.WARNING,"Cas connection error ",e);
      }
 finally {
        target.addComponent(feedbackPanel);
      }
    }
  }
.setDefaultFormProcessing(false));
  add(new AjaxSubmitLink("proxyCallbackTest"){
    @Override protected void onSubmit(    AjaxRequestTarget target,    Form<?> form){
      try {
        testURL("proxyCallbackUrlPrefix",null);
        info(new StringResourceModel("casProxyCallbackSuccessful",CasConnectionPanel.this,null).getObject());
      }
 catch (      Exception e) {
        error(e);
        LOGGER.log(Level.WARNING,"CAs proxy callback  error ",e);
      }
 finally {
        target.addComponent(feedbackPanel);
      }
    }
  }
.setDefaultFormProcessing(false));
  add(feedbackPanel=new FeedbackPanel("feedback"));
  feedbackPanel.setOutputMarkupId(true);
}
