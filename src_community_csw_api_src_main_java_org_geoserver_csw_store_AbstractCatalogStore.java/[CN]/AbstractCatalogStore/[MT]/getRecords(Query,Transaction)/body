{
  RecordDescriptor rd;
  if (q.getTypeName() == null) {
    rd=descriptorByType.get("Record");
  }
 else {
    rd=descriptorByType.get(q.getTypeName());
  }
  if (rd == null) {
    throw new IOException(q.getTypeName() + " is not a supported type");
  }
  return getRecordsInternal(rd,q,t);
}
