{
  super(id,model);
  add(roleSourceChoice=new DropDownChoice<RoleSource>("roleSource",Arrays.asList(RoleSource.values()),new EnumChoiceRenderer<RoleSource>()));
  roleSourceChoice.setNullValid(false);
  roleSourceChoice.add(new OnChangeAjaxBehavior(){
    @Override protected void onUpdate(    AjaxRequestTarget target){
      Panel p=roleSourceChoice.getModelObject() == RoleSource.UserGroupService ? new UserGroupServicePanel("panel") : new RoleServicePanel("panel");
      WebMarkupContainer c=(WebMarkupContainer)get("container");
      c.addOrReplace(p);
      target.addComponent(c);
    }
  }
);
  WebMarkupContainer container=new WebMarkupContainer("container");
  add(container.setOutputMarkupId(true));
  container.add(new UserGroupServicePanel("panel"));
}
