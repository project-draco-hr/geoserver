{
  String fileName=coverage.getName().toString() + ".tif";
  final Resource resource=resources.getOutputResource(null,fileName);
  final File file=resource.file();
  GeoTiffWriter writer=new GeoTiffWriter(file);
  final ParameterValueGroup params=new GeoTiffFormat().getWriteParameters();
  params.parameter(AbstractGridFormat.GEOTOOLS_WRITE_PARAMS.getName().toString()).setValue(DEFAULT_WRITE_PARAMS);
  final GeneralParameterValue[] wps=params.values().toArray(new GeneralParameterValue[1]);
  try {
    writer.write(coverage,wps);
  }
  finally {
    try {
      writer.dispose();
    }
 catch (    Exception e) {
    }
  }
  return new URL(resources.getOutputResourceUrl(fileName,"image/tiff"));
}
