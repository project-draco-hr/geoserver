{
  String ticket=request.getParameter("ticket");
  if (ticket == null)   return null;
  try {
    Assertion assertion=validator.validate(ticket,service);
    return assertion.getPrincipal().getName();
  }
 catch (  TicketValidationException e) {
    e.printStackTrace();
  }
  return null;
}
