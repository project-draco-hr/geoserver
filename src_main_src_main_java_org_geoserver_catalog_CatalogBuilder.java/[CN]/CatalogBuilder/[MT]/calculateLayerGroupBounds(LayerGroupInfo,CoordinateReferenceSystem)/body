{
  List<LayerInfo> layers=layerGroup.getLayers();
  if (layerGroup.getRootLayer() != null) {
    layers=new ArrayList<LayerInfo>(layers);
    layers.add(layerGroup.getRootLayer());
  }
  if (layers.isEmpty()) {
    return;
  }
  LayerInfo l=layers.get(0);
  ReferencedEnvelope bounds=transform(l.getResource().getLatLonBoundingBox(),crs);
  for (int i=1; i < layers.size(); i++) {
    l=layers.get(i);
    bounds.expandToInclude(transform(l.getResource().getLatLonBoundingBox(),crs));
  }
  layerGroup.setBounds(bounds);
}
