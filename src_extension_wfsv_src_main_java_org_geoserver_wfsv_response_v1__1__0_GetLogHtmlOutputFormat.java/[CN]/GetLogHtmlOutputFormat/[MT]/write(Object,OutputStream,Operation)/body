{
  FeatureCollectionType fct=(FeatureCollectionType)value;
  SimpleFeatureCollection fc=(SimpleFeatureCollection)fct.getFeature().get(0);
  GeoServerTemplateLoader templateLoader=new GeoServerTemplateLoader(getClass());
  templateLoader.setFeatureType(fc.getSchema());
  Template template=null;
synchronized (templateConfig) {
    templateConfig.setTemplateLoader(templateLoader);
    template=templateConfig.getTemplate("wfsvGetLog.ftl");
  }
  try {
    template.setOutputEncoding("UTF-8");
    template.process(fc,new OutputStreamWriter(output,Charset.forName("UTF-8")));
  }
 catch (  TemplateException e) {
    String msg="Error occured processing template.";
    throw (IOException)new IOException(msg).initCause(e);
  }
}
