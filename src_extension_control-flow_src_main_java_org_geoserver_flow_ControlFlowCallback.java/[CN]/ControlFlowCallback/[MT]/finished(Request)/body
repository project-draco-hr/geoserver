{
  if (SENTINEL.isOutermostRequest() && REQUEST_CONTROLLERS.get() != null) {
    runningRequests.decrementAndGet();
    if (REQUEST_CONTROLLERS.get() != null) {
      List<FlowController> fcl=REQUEST_CONTROLLERS.get();
      for (      FlowController flowController : fcl) {
        try {
          flowController.requestComplete(request);
        }
 catch (        Exception e) {
          LOGGER.log(Level.SEVERE,"Flow controller " + fcl + " failed to mark the request as complete",e);
        }
      }
    }
    REQUEST_CONTROLLERS.remove();
    if (LOGGER.isLoggable(Level.INFO)) {
      if (controllers.size() > 0) {
        LOGGER.info("Running requests: " + runningRequests.get() + ", processing through flow controllers: "+ blockedRequests.get());
      }
 else {
        LOGGER.info("Control flow installed, but no rules configured in controlflow.properties");
      }
    }
  }
  SENTINEL.stop();
}
