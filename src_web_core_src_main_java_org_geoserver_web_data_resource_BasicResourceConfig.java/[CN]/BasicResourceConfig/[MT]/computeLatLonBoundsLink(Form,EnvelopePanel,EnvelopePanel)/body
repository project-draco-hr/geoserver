{
  return new GeoServerAjaxFormLink("computeLatLon",refForm){
    private static final long serialVersionUID=-5981662004745936762L;
    @Override protected void onClick(    AjaxRequestTarget target,    Form form){
      nativeBBox.processInput();
      declaredCRS.processInput();
      ReferencedEnvelope nativeBounds=(ReferencedEnvelope)nativeBBox.getModelObject();
      try {
        if (nativeBounds == null) {
          ResourceInfo resource=(ResourceInfo)BasicResourceConfig.this.getDefaultModelObject();
          CatalogBuilder cb=new CatalogBuilder(GeoServerApplication.get().getCatalog());
          nativeBounds=cb.getNativeBounds(resource);
          resource.setNativeBoundingBox(nativeBounds);
          nativeBBox.setModelObject(nativeBounds);
          target.addComponent(nativeBBox);
        }
        CatalogBuilder cb=new CatalogBuilder(GeoServerApplication.get().getCatalog());
        latLonPanel.setModelObject(cb.getLatLonBounds(nativeBounds,declaredCRS.getCRS()));
      }
 catch (      IOException e) {
        LOGGER.log(Level.SEVERE,"Error computing the geographic BBOX",e);
        error("Error computing the geographic bounds:" + e.getMessage());
      }
      target.addComponent(latLonPanel);
    }
  }
;
}
