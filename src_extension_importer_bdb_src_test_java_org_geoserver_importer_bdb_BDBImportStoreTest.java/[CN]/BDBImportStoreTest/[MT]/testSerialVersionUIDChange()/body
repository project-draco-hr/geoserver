{
  Importer imp=new Importer(null){
    @Override public Resource getImportRoot(){
      return Files.asResource(new File("target"));
    }
  }
;
  ImportContext ctx=new ImportContext2();
  ctx.setState(ImportContext.State.PENDING);
  ctx.setUser("fooboo");
  BDBImportStore store=new BDBImportStore(imp);
  try {
    store.init();
    store.add(ctx);
    Iterator<ImportContext> iterator=store.iterator();
    while (iterator.hasNext()) {
      ctx=iterator.next();
      assertEquals("fooboo",ctx.getUser());
    }
    store.add(ctx);
  }
  finally {
    store.destroy();
  }
}
