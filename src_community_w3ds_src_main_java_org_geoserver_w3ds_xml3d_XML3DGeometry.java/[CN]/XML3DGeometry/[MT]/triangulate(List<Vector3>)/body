{
  int counter=0;
  int prevIndex=0;
  int firstIndex;
  String vertexKey=vertexList.get(0).toString();
  if (verticesHashMap.containsKey(vertexKey)) {
    firstIndex=verticesHashMap.get(vertexKey);
  }
 else {
    firstIndex=vertices.size();
  }
  for (int i=0; i < vertexList.size(); i++) {
    Vector3 vertex=vertexList.get(i);
    String vertexString=vertex.toString();
    if (counter > 2) {
      indices.add(prevIndex);
      counter=1;
    }
    if (verticesHashMap.containsKey(vertexString)) {
      prevIndex=verticesHashMap.get(vertexString);
      indices.add(prevIndex);
    }
 else {
      prevIndex=vertices.size();
      indices.add(prevIndex);
      vertices.add(vertex);
      verticesHashMap.put(vertexString,prevIndex);
    }
    counter++;
  }
  if (counter < 3) {
    indices.add(firstIndex);
  }
}
