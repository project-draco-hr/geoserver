{
  URI uri=ex.getRequestURI();
  BufferedReader in=new BufferedReader(new InputStreamReader(ex.getRequestBody()));
  String line="";
  StringBuffer buff=new StringBuffer();
  while ((line=in.readLine()) != null) {
    buff.append(line);
  }
  in.close();
  MockHttpServletRequest request=createRequest("/j_spring_cas_security_check");
  request.setMethod("POST");
  MockHttpServletResponse response=new MockHttpServletResponse();
  MockFilterChain chain=new MockFilterChain();
  String paramValue=URLDecoder.decode(buff.toString(),"utf-8");
  request.setupAddParameter("logoutRequest",paramValue.substring(paramValue.indexOf("=") + 1));
  try {
    getProxy().doFilter(request,response,chain);
  }
 catch (  ServletException e) {
    throw new RuntimeException(e);
  }
  assertEquals(HttpServletResponse.SC_OK,response.getErrorCode());
  ex.sendResponseHeaders(200,0);
  ex.getResponseBody().close();
}
