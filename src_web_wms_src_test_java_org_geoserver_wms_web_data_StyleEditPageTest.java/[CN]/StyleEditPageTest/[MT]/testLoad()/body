{
  tester.assertRenderedPage(StyleEditPage.class);
  tester.assertNoErrorMessage();
  tester.assertComponent("form:name",TextField.class);
  tester.assertComponent("form:SLD:editorContainer:editor",TextArea.class);
  tester.assertModelValue("form:name","Buildings");
  File styleFile=GeoserverDataDirectory.findStyleFile(buildingsStyle.getFilename());
  DocumentBuilder db=DocumentBuilderFactory.newInstance().newDocumentBuilder();
  Document d1=db.parse(new FileInputStream(styleFile));
  String xml=tester.getComponentFromLastRenderedPage("form:SLD").getDefaultModelObjectAsString();
  xml=xml.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;","\"");
  Document d2=db.parse(new ByteArrayInputStream(xml.getBytes()));
  assertXMLEqual(d1,d2);
}
