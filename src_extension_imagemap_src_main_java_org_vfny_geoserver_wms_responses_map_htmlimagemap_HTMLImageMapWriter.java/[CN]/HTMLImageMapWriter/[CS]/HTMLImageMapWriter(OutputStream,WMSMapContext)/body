{
  super(out,guessCharset(mapContext));
  this.mapContext=mapContext;
  mapEnv=mapContext.getAreaOfInterest();
  clippingBox=envToGeometry(mapEnv);
  mapArea=new Rectangle(mapContext.getMapWidth(),mapContext.getMapHeight());
  worldToScreen=RendererUtilities.worldToScreenTransform(mapEnv,mapArea);
  initWriters();
}
