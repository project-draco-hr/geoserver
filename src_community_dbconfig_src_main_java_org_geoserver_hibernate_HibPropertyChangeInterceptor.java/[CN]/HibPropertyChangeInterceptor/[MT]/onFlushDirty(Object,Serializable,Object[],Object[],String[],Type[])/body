{
  List<String> propertyNamesChanged=new ArrayList<String>();
  List<Object> oldValues=new ArrayList<Object>();
  List<Object> newValues=new ArrayList<Object>();
  if (previousState != null) {
    for (int i=0; i < propertyNames.length; i++) {
      Object oldValue=previousState[i];
      Object newValue=currentState[i];
      if (!Utilities.equals(oldValue,newValue)) {
        propertyNamesChanged.add(propertyNames[i]);
        oldValues.add(oldValue);
        newValues.add(newValue);
      }
    }
  }
 else {
    for (int i=0; i < propertyNames.length; i++) {
      propertyNamesChanged.add(propertyNames[i]);
    }
  }
  Info info=(Info)entity;
  Event e=new Event(info,propertyNamesChanged);
  if (events.get() == null) {
    events.set(new ArrayList());
  }
  if (events.get().contains(e)) {
    return false;
  }
  events.get().add(e);
  try {
    if (!filterEvent(info,propertyNamesChanged,oldValues,newValues)) {
      if (info instanceof CatalogInfo) {
        catalog().fireModified((CatalogInfo)info,propertyNamesChanged,oldValues,newValues);
      }
 else {
        if (info instanceof GeoServerInfo) {
          geoServer().fireGlobalModified((GeoServerInfo)info,propertyNamesChanged,oldValues,newValues);
        }
 else         if (info instanceof LoggingInfo) {
          geoServer().fireLoggingModified((LoggingInfo)info,propertyNamesChanged,oldValues,newValues);
        }
 else         if (info instanceof ServiceInfo) {
          geoServer().fireServiceModified((ServiceInfo)info,propertyNamesChanged,oldValues,newValues);
        }
      }
    }
  }
  finally {
    events.get().remove(e);
  }
  return false;
}
