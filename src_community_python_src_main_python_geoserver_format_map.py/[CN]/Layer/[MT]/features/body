def features(self):
    fc = self.layer.getFeatureSource().getFeatures(self.layer.getQuery())
    it = fc.features()
    while it.hasNext():
        yield Feature(f=it.next())
    it.close()
