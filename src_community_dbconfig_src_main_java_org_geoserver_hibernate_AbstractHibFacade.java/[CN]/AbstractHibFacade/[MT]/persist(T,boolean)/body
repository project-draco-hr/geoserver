{
  if (clearId) {
    Object id=OwsUtils.get(entity,"id");
    if (id != null) {
      OwsUtils.set(entity,"id",null);
    }
  }
  try {
    MetadataMap md=(MetadataMap)OwsUtils.get(entity,"metadata");
    if (md != null) {
      md.setId(null);
    }
  }
 catch (  IllegalArgumentException e1) {
  }
catch (  ClassCastException e2) {
  }
  sessionFactory.getCurrentSession().persist(entity);
  return entity;
}
