{
  String style=getAttribute("style");
  String workspace=getAttribute("workspace");
  if (object instanceof StyleInfo) {
    StyleInfo s=(StyleInfo)object;
    StyleInfo original=catalog.getStyleByName(workspace,style);
    if (s.getWorkspace() != null) {
      if (!s.getWorkspace().equals(original.getWorkspace())) {
        throw new RestletException("Can't change the workspace of a style, instead " + "DELETE from existing workspace and POST to new workspace",Status.CLIENT_ERROR_FORBIDDEN);
      }
    }
    new CatalogBuilder(catalog).updateStyle(original,s);
    catalog.save(original);
  }
 else   if (object instanceof Style || object instanceof InputStream) {
    StyleInfo s=catalog.getStyleByName(workspace,style);
    ResourcePool resourcePool=catalog.getResourcePool();
    if (object instanceof Style) {
      resourcePool.writeStyle(s,(Style)object,true);
    }
 else {
      resourcePool.writeStyle(s,(InputStream)object);
    }
    catalog.save(s);
  }
  LOGGER.info("PUT style " + style);
}
