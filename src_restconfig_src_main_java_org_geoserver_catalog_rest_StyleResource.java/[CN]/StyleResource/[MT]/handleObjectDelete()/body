{
  String workspace=getAttribute("workspace");
  String style=getAttribute("style");
  StyleInfo s=workspace != null ? catalog.getStyleByName(workspace,style) : catalog.getStyleByName(style);
  List<LayerInfo> layers=catalog.getLayers(s);
  if (!layers.isEmpty()) {
    throw new RestletException("Can't delete style referenced by existing layers.",Status.CLIENT_ERROR_FORBIDDEN);
  }
  catalog.remove(s);
  String p=getRequest().getResourceRef().getQueryAsForm().getFirstValue("purge");
  boolean purge=(p != null) ? Boolean.parseBoolean(p) : false;
  catalog.getResourcePool().deleteStyle(s,purge);
  LOGGER.info("DELETE style " + style);
}
