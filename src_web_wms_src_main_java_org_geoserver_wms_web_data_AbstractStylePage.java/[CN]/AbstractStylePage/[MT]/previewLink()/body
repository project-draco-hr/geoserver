{
  return new GeoServerAjaxFormLink("preview",styleForm){
    @Override protected void onClick(    AjaxRequestTarget target,    Form form){
      editor.processInput();
      wsChoice.processInput();
      lastStyle=editor.getInput();
      legendImg.setVisible(true);
      target.add(legendContainer);
    }
    @Override protected void updateAjaxAttributes(    AjaxRequestAttributes attributes){
      super.updateAjaxAttributes(attributes);
      attributes.getAjaxCallListeners().add(editor.getSaveDecorator());
    }
  }
;
}
