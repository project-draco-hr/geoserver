{
  final Model userModel=new Model(user);
  Form form=new Form("userForm");
  form.setModel(new CompoundPropertyModel(userModel));
  setDefaultModel(userModel);
  add(form);
  username=new TextField("username");
  form.add(username);
  PasswordTextField pw1=new PasswordTextField("password").setResetPassword(false);
  PasswordTextField pw2=new PasswordTextField("confirmPassword").setResetPassword(false);
  form.add(pw1);
  form.add(pw2);
  form.add(new RolesFormComponent("roles",new PropertyModel(userModel,"authorities"),form,false));
  form.add(new BookmarkablePageLink("cancel",UserPage.class));
  form.add(saveLink());
  form.add(new EqualInputValidator(pw1,pw2));
  username.setRequired(true);
}
