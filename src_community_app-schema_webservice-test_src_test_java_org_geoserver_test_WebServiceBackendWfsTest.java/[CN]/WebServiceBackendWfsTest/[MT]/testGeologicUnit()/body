{
  Document doc=getAsDOM("wfs?request=GetFeature&typename=gsml:GeologicUnit");
  LOGGER.info("WFS GetFeature&typename=gsml:GeologicUnit response:\n" + prettyString(doc));
  assertXpathEvaluatesTo("3","/wfs:FeatureCollection/@numberOfFeatures",doc);
  assertXpathCount(3,"//gsml:GeologicUnit",doc);
  checkSchemaLocation(doc);
  String id="lithostratigraphic.unit.1679161021439131319";
  assertXpathEvaluatesTo(id,"(//gsml:GeologicUnit)[1]/@gml:id",doc);
  assertXpathEvaluatesTo("Test description 1","//gsml:GeologicUnit[@gml:id='" + id + "']/gml:description",doc);
  assertXpathCount(1,"//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:observationMethod",doc);
  assertXpathEvaluatesTo("value01","//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:observationMethod/gsml:CGI_TermValue/gsml:value"+ "[@codeSpace='codespace01']",doc);
  assertXpathCount(0,"//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition",doc);
  id="lithostratigraphic.unit.1679161041155866313";
  assertXpathEvaluatesTo(id,"(//gsml:GeologicUnit)[2]/@gml:id",doc);
  assertXpathEvaluatesTo("Test description 1","//gsml:GeologicUnit[@gml:id='" + id + "']/gml:description",doc);
  assertXpathCount(1,"//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:observationMethod",doc);
  assertXpathEvaluatesTo("value02","//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:observationMethod/gsml:CGI_TermValue/gsml:value"+ "[@codeSpace='codespace02']",doc);
  assertXpathCount(1,"//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition",doc);
  assertXpathCount(1,"//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology",doc);
  assertXpathEvaluatesTo("167916112856013567","//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology/gsml:ControlledConcept/@gml:id",doc);
  assertXpathCount(1,"//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology/gsml:ControlledConcept/gml:name",doc);
  assertXpathEvaluatesTo("urn:cgi:classifier:GSV:LithostratigraphicUnitRank:formation","//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology/gsml:ControlledConcept/gml:name",doc);
  assertXpathCount(0,"//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology/gsml:ControlledConcept/gml:description",doc);
  id="lithostratigraphic.unit.1679161021439938381";
  assertXpathEvaluatesTo(id,"(//gsml:GeologicUnit)[3]/@gml:id",doc);
  assertXpathEvaluatesTo("Test description 2","//gsml:GeologicUnit[@gml:id='" + id + "']/gml:description",doc);
  assertXpathCount(1,"//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:observationMethod",doc);
  assertXpathEvaluatesTo("value03","//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:observationMethod/gsml:CGI_TermValue/gsml:value"+ "[@codeSpace='codespace03']",doc);
  assertXpathCount(1,"//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition",doc);
  assertXpathCount(2,"//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology",doc);
  assertXpathEvaluatesTo("167916112856013567","//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology[1]/gsml:ControlledConcept/@gml:id",doc);
  assertXpathCount(2,"//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology[1]/gsml:ControlledConcept/gml:name",doc);
  assertXpathEvaluatesTo("Formation [lithostratigraphic]","//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology[1]/gsml:ControlledConcept/gml:name[1]",doc);
  assertXpathEvaluatesTo("urn:cgi:classifier:GSV:LithostratigraphicUnitRank:formation","//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology[1]/gsml:ControlledConcept/gml:name[2]",doc);
  assertXpathEvaluatesTo("A body of rock strata distinguishable by its lithology; primary formal unit of lithostratigraphic classification.","//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology[1]/gsml:ControlledConcept/gml:description",doc);
  assertXpathEvaluatesTo("167916112856013568","//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology[2]/gsml:ControlledConcept/@gml:id",doc);
  assertXpathCount(2,"//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology[2]/gsml:ControlledConcept/gml:name",doc);
  assertXpathEvaluatesTo("Formation [lithostratigraphic] 2","//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology[2]/gsml:ControlledConcept/gml:name[1]",doc);
  assertXpathEvaluatesTo("urn:cgi:classifier:GSV:LithostratigraphicUnitRank:formation2","//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology[2]/gsml:ControlledConcept/gml:name[2]",doc);
  assertXpathEvaluatesTo("A body of rock strata distinguishable by its lithology; primary formal unit of lithostratigraphic classification.","//gsml:GeologicUnit[@gml:id='" + id + "']/gsml:composition/gsml:CompositionPart/gsml:lithology[2]/gsml:ControlledConcept/gml:description",doc);
}
