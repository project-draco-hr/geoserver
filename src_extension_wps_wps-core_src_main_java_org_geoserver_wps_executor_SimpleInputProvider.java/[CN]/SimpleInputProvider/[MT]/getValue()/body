{
  if (value == null) {
    if (input.getReference() != null) {
      InputReferenceType ref=input.getReference();
      String href=ref.getHref();
      if (href.startsWith("http://geoserver/wfs")) {
        value=handleAsInternalWFS(ppio,ref);
      }
 else       if (href.startsWith("http://geoserver/wcs")) {
        value=handleAsInternalWCS(ppio,ref);
      }
 else       if (href.startsWith("http://geoserver/wps")) {
        value=handleAsInternalWPS(ppio,ref);
      }
 else {
        value=executeRemoteRequest(ref,(ComplexPPIO)ppio,inputId);
      }
    }
 else {
      DataType data=input.getData();
      if (data.getLiteralData() != null) {
        LiteralDataType literal=data.getLiteralData();
        value=((LiteralPPIO)ppio).decode(literal.getValue());
      }
 else       if (data.getComplexData() != null) {
        ComplexDataType complex=data.getComplexData();
        if (ppio instanceof RawDataPPIO) {
          String content=complex.getData().get(0).toString();
          return new StringRawData(content,complex.getMimeType());
        }
 else {
          value=((ComplexPPIO)ppio).decode(complex.getData().get(0));
        }
      }
 else       if (data.getBoundingBoxData() != null) {
        value=((BoundingBoxPPIO)ppio).decode(data.getBoundingBoxData());
      }
    }
    if (value instanceof GridCoverage) {
      executor.getResourceManager().addResource(new GridCoverageResource((GridCoverage)value));
    }
    input=null;
  }
  return value;
}
