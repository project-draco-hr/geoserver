{
  if (!findTypeInSchema(featureTypeMeta,schema,factory)) {
    XSDComplexTypeDefinition xsdComplexType=buildComplexSchemaContent(featureTypeMeta.getFeatureType(),schema,factory);
    XSDElementDeclaration element=factory.createXSDElementDeclaration();
    element.setName(featureTypeMeta.getName());
    element.setTargetNamespace(featureTypeMeta.getNamespace().getURI());
    element.setSubstitutionGroupAffiliation(schema.resolveElementDeclaration(gmlNamespace,substitutionGroup));
    element.setTypeDefinition(xsdComplexType);
    schema.getContents().add(element);
    schema.updateElement();
  }
}
