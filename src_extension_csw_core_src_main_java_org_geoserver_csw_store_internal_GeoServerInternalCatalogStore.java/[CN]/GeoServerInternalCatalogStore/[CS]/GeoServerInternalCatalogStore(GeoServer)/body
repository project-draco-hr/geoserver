{
  super(geoserver.getCatalog());
  GeoServerResourceLoader loader=geoserver.getCatalog().getResourceLoader();
  File dir=loader.findOrCreateDirectory("csw");
  for (  String typeName : descriptorByType.keySet()) {
    File f=new File(dir,typeName + ".properties");
    PropertyFileWatcher watcher=new PropertyFileWatcher(f);
    watchers.put(typeName,watcher);
    if (!f.exists()) {
      IOUtils.copy(getClass().getResourceAsStream(typeName + ".properties"),f);
    }
    addMapping(typeName,CatalogStoreMapping.parse(new HashMap<String,String>((Map)watcher.getProperties())));
  }
}
