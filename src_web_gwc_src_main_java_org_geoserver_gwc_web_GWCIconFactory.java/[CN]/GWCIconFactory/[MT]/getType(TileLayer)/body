{
  if (layer instanceof WMSLayer) {
    return TYPE.WMS;
  }
 else   if (layer instanceof GeoServerTileLayer) {
    GeoServerTileLayer gtl=(GeoServerTileLayer)layer;
    LayerInfo li;
    if (null != (li=gtl.getLayerInfo())) {
      ResourceInfo resource=li.getResource();
      if (resource instanceof FeatureTypeInfo) {
        return TYPE.VECTOR;
      }
 else       if (resource instanceof CoverageInfo) {
        return TYPE.RASTER;
      }
 else       if (resource instanceof WMSLayerInfo) {
        return TYPE.WMS;
      }
    }
 else     if (null != gtl.getLayerGroupInfo()) {
      return TYPE.LAYERGROUP;
    }
  }
  LOGGER.info("Unknown TileLayer type, returning OTHER: " + layer.getClass().getName());
  return TYPE.OTHER;
}
