{
  getResourceSettings().setResourceStreamLocator(new GeoServerResourceStreamLocator());
  List<IStringResourceLoader> alternateResourceLoaders=getBeansOfType(IStringResourceLoader.class);
  for (  IStringResourceLoader loader : alternateResourceLoaders) {
    LOGGER.info("Registering alternate resource loader: " + loader);
    getResourceSettings().getStringResourceLoaders().add(loader);
  }
  getResourceSettings().getStringResourceLoaders().add(0,new GeoServerStringResourceLoader());
  getDebugSettings().setAjaxDebugModeEnabled(false);
  getApplicationSettings().setPageExpiredErrorPage(GeoServerExpiredPage.class);
  getSecuritySettings().setCryptFactory(GeoserverWicketEncrypterFactory.get());
  GeoServerCryptProvider cryptProvider=new GeoServerCryptProvider(getBeanOfType(GeoServerSecurityManager.class));
  IRequestMapper cryptoMapper=new CryptoMapper(getRootRequestMapper(),cryptProvider);
  setRootRequestMapper(cryptoMapper);
  getRequestCycleListeners().add(new PageRequestHandlerTracker());
  getRequestCycleListeners().add(new CallbackRequestCycleListener(this));
}
