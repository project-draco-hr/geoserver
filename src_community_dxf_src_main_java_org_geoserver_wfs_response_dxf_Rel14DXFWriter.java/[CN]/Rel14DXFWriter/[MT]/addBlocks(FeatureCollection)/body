{
  FeatureIterator<SimpleFeature> iter=coll.features();
  try {
    while (iter.hasNext()) {
      SimpleFeature f=iter.next();
      Geometry geom=(Geometry)f.getDefaultGeometry();
      if (geometryAsBlock || isBlockGeometry(geom))       blockNames.put(f.getID(),(blockCounter++) + "");
    }
  }
  finally {
    coll.close(iter);
  }
}
