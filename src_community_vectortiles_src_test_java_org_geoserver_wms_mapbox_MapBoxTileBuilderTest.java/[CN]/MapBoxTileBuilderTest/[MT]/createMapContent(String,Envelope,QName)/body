{
  GetMapRequest mapRequest=createGetMapRequest(layers);
  CoordinateReferenceSystem crs=null;
  if (srs != null) {
    crs=CRS.decode(srs);
    mapRequest.setSRS(srs);
    mapRequest.setCrs(crs);
  }
  if (bbox != null) {
    mapRequest.setBbox(bbox);
  }
  WMSMapContent map=new WMSMapContent(mapRequest);
  map.getViewport().setBounds(new ReferencedEnvelope(bbox,crs));
  for (  QName l : layers) {
    map.addLayer(createMapLayer(l));
  }
  return map;
}
