{
  try {
    Class.forName("org.sqlite.JDBC");
    Connection conn=null;
    String curr_dir="";
    try {
      SQLiteConfig config=new SQLiteConfig();
      config.enableLoadExtension(true);
      conn=DriverManager.getConnection("jdbc:sqlite:spatialiteSample.sqlite",config.toProperties());
      Statement stmt=conn.createStatement();
      stmt.setQueryTimeout(30);
      File dir1=new File(".");
      try {
        curr_dir=dir1.getCanonicalPath();
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
      stmt.execute("SELECT load_extension('" + curr_dir + "/lib/native/Windows/amd64/libspatialite-2-4.dll')");
      String sql="SELECT InitSpatialMetaData();";
      stmt.execute(sql);
      File file=new File("querys.txt");
      FileInputStream fis=null;
      BufferedInputStream bis=null;
      DataInputStream dis=null;
      try {
        fis=new FileInputStream(file);
        bis=new BufferedInputStream(fis);
        dis=new DataInputStream(bis);
        try {
          conn.setAutoCommit(false);
          String consulta=null;
          while (dis.available() != 0) {
            consulta=dis.readLine();
            stmt.execute(consulta);
            System.out.println(consulta);
          }
          conn.commit();
        }
 catch (        SQLException e) {
          System.err.println(e.getMessage());
        }
        fis.close();
        bis.close();
        dis.close();
      }
 catch (      FileNotFoundException e) {
        e.printStackTrace();
      }
catch (      IOException e) {
        e.printStackTrace();
      }
    }
 catch (    SQLException e) {
      System.err.println(e.getMessage());
    }
 finally {
      try {
        if (conn != null)         conn.close();
      }
 catch (      SQLException e) {
        System.err.println(e);
      }
    }
  }
 catch (  RuntimeException e) {
    System.err.println(e.getMessage());
  }
}
