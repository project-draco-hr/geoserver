{
  EObject object=(EObject)obj;
  List properties=object.eClass().getEAllStructuralFeatures();
  for (Iterator p=properties.iterator(); p.hasNext(); ) {
    EStructuralFeature property=(EStructuralFeature)p.next();
    Object value=object.eGet(property);
    log.append("\n");
    for (int i=0; i < level; i++)     log.append("\t");
    log.append(property.getName());
    if (value instanceof EObject && (level < 2)) {
      log.append(":");
      log((EObject)value,level + 1,log);
    }
 else {
      log.append(" = " + value);
    }
  }
}
