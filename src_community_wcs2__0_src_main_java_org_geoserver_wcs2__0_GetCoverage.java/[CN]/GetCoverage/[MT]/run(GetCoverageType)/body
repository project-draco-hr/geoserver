{
  LayerInfo linfo=NCNameResourceCodec.getCoverage(catalog,request.getCoverageId());
  if (linfo == null) {
    throw new WCS20Exception("Could not locate coverage " + request.getCoverageId(),WCS20Exception.WCSExceptionCode.NoSuchCoverage,"coverageId");
  }
  CoverageInfo cinfo=(CoverageInfo)linfo.getResource();
  GridCoverage2D coverage=null;
  try {
    GridCoverageReader reader=cinfo.getGridCoverageReader(null,null);
    boolean subsample=wcs.isSubsamplingEnabled();
    coverage=(GridCoverage2D)reader.read(null);
    coverage=handleRangeSubsettingExtension(coverage,request);
    coverage=handleSubsettingExtension(coverage,request);
    coverage=handleScaling(coverage,request);
    coverage=handleReprojection(coverage,request);
  }
 catch (  IOException e) {
    throw new WcsException("Failed to read the coverage " + request.getCoverageId(),e);
  }
 finally {
    if (coverage != null) {
      CoverageCleanerCallback.addCoverages(coverage);
    }
  }
  return coverage;
}
