{
  LayerInfo linfo=NCNameResourceCodec.getCoverage(catalog,request.getCoverageId());
  if (linfo == null) {
    throw new WCS20Exception("Could not locate coverage " + request.getCoverageId(),WCS20Exception.WCS20ExceptionCode.NoSuchCoverage,"coverageId");
  }
  CoverageInfo cinfo=(CoverageInfo)linfo.getResource();
  GridCoverage2D coverage=null;
  try {
    GridCoverageReader reader=cinfo.getGridCoverageReader(null,null);
    boolean subsample=wcs.isSubsamplingEnabled();
    Map<String,ExtensionItemType> extensions=extractExtensions(coverage,request);
    coverage=(GridCoverage2D)reader.read(null);
    final CoordinateReferenceSystem subsettingCRS=extractSubsettingCRS(coverage,extensions);
    final CoordinateReferenceSystem outputCRS=extractOutputCRS(coverage,extensions);
    final Map<String,InterpolationPolicy> axesInterpolations=extractInterpolation(coverage,extensions);
    coverage=handleRangeSubsettingExtension(coverage,extensions);
    coverage=handleSubsettingExtension(coverage,request,subsettingCRS);
    coverage=handleScaling(coverage,extensions,axesInterpolations);
    coverage=handleReprojection(coverage,outputCRS,axesInterpolations);
  }
 catch (  IOException e) {
    throw new WCS20Exception("Failed to read the coverage " + request.getCoverageId(),e);
  }
 finally {
    if (coverage != null) {
      CoverageCleanerCallback.addCoverages(coverage);
    }
  }
  return coverage;
}
