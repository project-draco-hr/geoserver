{
  catalog.add(nsA);
  catalog.add(nsB);
  catalog.add(wsA);
  catalog.add(wsB);
  catalog.setDefaultNamespace(nsB);
  catalog.setDefaultWorkspace(wsB);
  catalog.add(dsA);
  catalog.add(dsB);
  FeatureTypeInfo ftA=catalog.getFactory().createFeatureType();
  ftA.setEnabled(true);
  ftA.setName("bar");
  ftA.setAbstract("ftAbstract");
  ftA.setDescription("ftDescription");
  ftA.setStore(dsA);
  ftA.setNamespace(nsA);
  FeatureTypeInfo ftB=catalog.getFactory().createFeatureType();
  ftB.setName("bar");
  ftB.setAbstract("ftAbstract");
  ftB.setDescription("ftDescription");
  ftB.setStore(dsB);
  ftB.setNamespace(nsB);
  FeatureTypeInfo ftC=catalog.getFactory().createFeatureType();
  ftC.setName("bar2");
  ftC.setAbstract("ftAbstract");
  ftC.setDescription("ftDescription");
  ftC.setStore(dsA);
  ftC.setNamespace(nsA);
  ftC.setEnabled(true);
  ftB.setEnabled(true);
  catalog.add(ftA);
  catalog.add(ftB);
  catalog.add(ftC);
  addStyle();
  LayerInfo lA=catalog.getFactory().createLayer();
  lA.setResource(ftA);
  lA.setDefaultStyle(s);
  lA.setEnabled(true);
  LayerInfo lB=catalog.getFactory().createLayer();
  lB.setResource(ftB);
  lB.setDefaultStyle(s);
  lB.setEnabled(true);
  LayerInfo lC=catalog.getFactory().createLayer();
  lC.setResource(ftC);
  lC.setDefaultStyle(s);
  lC.setEnabled(true);
  catalog.add(lA);
  catalog.add(lB);
  catalog.add(lC);
  LayerInfo searchedResult=catalog.getLayerByName("bar");
  assertNotNull(searchedResult);
  assertEquals(lB,searchedResult);
  searchedResult=catalog.getLayerByName("aaa:bar");
  assertNotNull(searchedResult);
  assertEquals(lA,searchedResult);
  searchedResult=catalog.getLayerByName("bar2");
  assertNotNull(searchedResult);
  assertEquals(lC,searchedResult);
  searchedResult=catalog.getLayerByName("aaa:bar2");
  assertNotNull(searchedResult);
  assertEquals(lC,searchedResult);
  searchedResult=catalog.getLayerByName("bbb:bar2");
  assertNull(searchedResult);
}
