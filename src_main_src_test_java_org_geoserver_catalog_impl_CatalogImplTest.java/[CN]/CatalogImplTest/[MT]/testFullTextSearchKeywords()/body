{
  l.setResource(ft);
  addLayer();
  catalog.add(cs);
  catalog.add(cv);
  LayerInfo l2=newLayer(cv,s);
  catalog.add(l2);
  ft.getKeywords().add(new Keyword("air_temp"));
  ft.getKeywords().add(new Keyword("temperatureAir"));
  cv.getKeywords().add(new Keyword("dwpt_dprs"));
  cv.getKeywords().add(new Keyword("temperatureDewpointDepression"));
  Filter filter=Predicates.fullTextSearch("temperature");
  assertEquals(newHashSet(l,l2),asSet(catalog.list(LayerInfo.class,filter)));
  assertEquals(newHashSet(ft,cv),asSet(catalog.list(ResourceInfo.class,filter)));
  assertEquals(newHashSet(ft),asSet(catalog.list(FeatureTypeInfo.class,filter)));
  assertEquals(newHashSet(cv),asSet(catalog.list(CoverageInfo.class,filter)));
  filter=Predicates.fullTextSearch("air");
  assertEquals(newHashSet(l),asSet(catalog.list(LayerInfo.class,filter)));
  assertEquals(newHashSet(ft),asSet(catalog.list(ResourceInfo.class,filter)));
  assertEquals(newHashSet(ft),asSet(catalog.list(FeatureTypeInfo.class,filter)));
  assertEquals(newHashSet(),asSet(catalog.list(CoverageInfo.class,filter)));
  filter=Predicates.fullTextSearch("dewpoint");
  assertEquals(newHashSet(l2),asSet(catalog.list(LayerInfo.class,filter)));
  assertEquals(newHashSet(cv),asSet(catalog.list(ResourceInfo.class,filter)));
  assertEquals(newHashSet(),asSet(catalog.list(FeatureTypeInfo.class,filter)));
  assertEquals(newHashSet(cv),asSet(catalog.list(CoverageInfo.class,filter)));
  filter=Predicates.fullTextSearch("pressure");
  assertEquals(newHashSet(),asSet(catalog.list(LayerInfo.class,filter)));
  assertEquals(newHashSet(),asSet(catalog.list(ResourceInfo.class,filter)));
  assertEquals(newHashSet(),asSet(catalog.list(FeatureTypeInfo.class,filter)));
  assertEquals(newHashSet(),asSet(catalog.list(CoverageInfo.class,filter)));
}
