{
  Placemark pm=(Placemark)feature;
  List<Symbolizer> symbolizers=context.getCurrentSymbolizers();
  SimpleFeature sf=context.getCurrentFeature();
  if (symbolizers.size() > 0 && sf.getDefaultGeometry() != null) {
    Map<Class,List<Symbolizer>> classified=classifySymbolizers(symbolizers);
    List<Symbolizer> points=classified.get(PointSymbolizer.class);
    if (points.size() == 0) {
      if (context.isDescriptionEnabled()) {
        addDefaultIconStyle(pm,sf,context);
      }
    }
 else {
      for (      Symbolizer symbolizer : points) {
        addIconStyle(pm,(PointSymbolizer)symbolizer,sf,context);
      }
    }
    List<Symbolizer> texts=classified.get(TextSymbolizer.class);
    if (texts.size() == 0) {
      if (context.isDescriptionEnabled()) {
        addDefaultLabelStyle(pm);
      }
    }
 else {
      for (      Symbolizer symbolizer : texts) {
        addLabelStyle(pm,sf,(TextSymbolizer)symbolizer);
      }
    }
    List<Symbolizer> lines=classified.get(LineSymbolizer.class);
    for (    Symbolizer symbolizer : lines) {
      addLineStyle(pm,sf,((LineSymbolizer)symbolizer).getStroke());
    }
    boolean forceOutiline=lines.size() == 0;
    List<Symbolizer> polygons=classified.get(PolygonSymbolizer.class);
    for (    Symbolizer symbolizer : polygons) {
      addPolygonStyle(pm,sf,(PolygonSymbolizer)symbolizer,forceOutiline);
    }
  }
  return feature;
}
