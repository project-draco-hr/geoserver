{
  if (symbolizer.getStroke() != null) {
    addLineStyle(pm,feature,symbolizer.getStroke());
  }
  Style style=pm.createAndAddStyle();
  PolyStyle ps=style.createAndSetPolyStyle();
  Fill fill=symbolizer.getFill();
  if (fill != null) {
    Double opacity=fill.getOpacity().evaluate(feature,Double.class);
    if (opacity == null || Double.isNaN(opacity)) {
      opacity=1.0;
    }
    Color color=(Color)fill.getColor().evaluate(feature,Color.class);
    ps.setColor(KMLUtils.colorToHex(color,opacity));
  }
 else {
    ps.setColor("00aaaaaa");
  }
  if (symbolizer.getStroke() != null || forceOutline) {
    ps.setOutline(true);
  }
}
