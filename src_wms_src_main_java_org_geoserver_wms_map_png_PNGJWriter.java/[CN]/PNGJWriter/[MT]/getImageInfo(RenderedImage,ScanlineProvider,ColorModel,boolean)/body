{
  int numColorComponents=colorModel.getNumColorComponents();
  boolean grayscale=!indexed && numColorComponents < 3;
  byte bitDepth=scanlines.getBitDepth();
  boolean hasAlpha=!indexed && colorModel.hasAlpha();
  ImageInfo ii=new ImageInfo(image.getWidth(),image.getHeight(),bitDepth,hasAlpha,grayscale,indexed);
  return ii;
}
