{
  Set<String> defaultFormats=ImmutableSet.of("image/png","image/png8","image/jpeg","image/gif");
  Set<String> expectedVector=union(defaultFormats,ImmutableSet.of("test/vector1","test/vector2"));
  Set<String> expectedRaster=union(defaultFormats,ImmutableSet.of("test/raster1","test/raster2;type=test"));
  Set<String> expectedGroup=union(defaultFormats,ImmutableSet.of("test/group1","test/group2"));
  assertEquals(expectedVector,mediator.getAdvertisedCachedFormats(PublishedType.VECTOR));
  assertEquals(expectedVector,mediator.getAdvertisedCachedFormats(PublishedType.REMOTE));
  assertEquals(expectedRaster,mediator.getAdvertisedCachedFormats(PublishedType.RASTER));
  assertEquals(expectedRaster,mediator.getAdvertisedCachedFormats(PublishedType.WMS));
  assertEquals(expectedGroup,mediator.getAdvertisedCachedFormats(PublishedType.GROUP));
}
