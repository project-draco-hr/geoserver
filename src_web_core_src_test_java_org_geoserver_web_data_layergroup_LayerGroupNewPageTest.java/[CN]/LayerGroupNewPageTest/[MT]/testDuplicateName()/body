{
  LayerGroupNewPage page=new LayerGroupNewPage();
  tester.startPage(page);
  tester.assertRenderedPage(LayerGroupNewPage.class);
  FormTester form=tester.newFormTester("form");
  form.setValue("name","lakes");
  form.setValue("bounds:minX","0");
  form.setValue("bounds:minY","0");
  form.setValue("bounds:maxX","0");
  form.setValue("bounds:maxY","0");
  form.setValue("bounds:crsContainer:crs:srs","EPSG:4326");
  page.lgEntryPanel.getEntries().add(new LayerGroupEntry(getCatalog().getLayerByName(getLayerId(MockData.LAKES)),null));
  form.submit("save");
  tester.assertRenderedPage(LayerGroupNewPage.class);
  assertEquals(1,tester.getMessages(FeedbackMessage.ERROR).size());
  assertTrue(tester.getMessages(FeedbackMessage.ERROR).get(0).toString().endsWith("Layer group named 'lakes' already exists"));
}
