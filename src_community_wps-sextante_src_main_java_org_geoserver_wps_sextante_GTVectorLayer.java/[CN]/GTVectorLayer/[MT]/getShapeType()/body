{
  if (m_BaseDataObject != null) {
    try {
      SimpleFeatureType ft=getFeatureSource().getSchema();
      Class<?> type=ft.getGeometryDescriptor().getType().getBinding();
      if (type.isAssignableFrom(Polygon.class) || type.isAssignableFrom(MultiPolygon.class)) {
        return IVectorLayer.SHAPE_TYPE_POLYGON;
      }
 else       if (type.isAssignableFrom(LineString.class) || type.isAssignableFrom(MultiLineString.class)) {
        return IVectorLayer.SHAPE_TYPE_LINE;
      }
 else {
        return IVectorLayer.SHAPE_TYPE_POINT;
      }
    }
 catch (    Exception e) {
      e.printStackTrace();
      return IVectorLayer.SHAPE_TYPE_POLYGON;
    }
  }
  return IVectorLayer.SHAPE_TYPE_POLYGON;
}
