{
  try {
    if (!(crs instanceof CoordinateReferenceSystem)) {
      crs=DefaultGeographicCRS.WGS84;
    }
    SimpleFeatureType featureType=buildFeatureType(sName,iShapeType,fields,sFields,(CoordinateReferenceSystem)crs);
    DataStore mds=createDatastore(filename,featureType);
    mds.createSchema(featureType);
    return createLayer(mds,sName,crs);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
