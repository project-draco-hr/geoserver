{
  String request="wps?service=WPS&version=1.0.0&request=Execute&Identifier=gs:Monkey&storeExecuteResponse=true&status=true";
  Document dom=getAsDOM(request);
  assertXpathExists("//wps:ProcessAccepted",dom);
  XpathEngine xpath=XMLUnit.newXpathEngine();
  String fullStatusLocation=xpath.evaluate("//wps:ExecuteResponse/@statusLocation",dom);
  String statusLocation=fullStatusLocation.substring(fullStatusLocation.indexOf('?') - 3);
  MonkeyProcess.progress(0.1f,true);
  dom=getAsDOM(statusLocation);
  assertXpathExists("//wps:ProcessStarted",dom);
  assertXpathEvaluatesTo("" + Math.round(0.66 * 10),"//wps:ProcessStarted/@percentCompleted",dom);
  MonkeyProcess.progress(0.5f,true);
  dom=getAsDOM(statusLocation);
  assertXpathExists("//wps:ProcessStarted",dom);
  assertXpathEvaluatesTo("" + Math.round(0.66 * 50),"//wps:ProcessStarted/@percentCompleted",dom);
  MonkeyProcess.exit(collectionOfThings(),true);
  dom=waitForProcessEnd(statusLocation,60);
  assertXpathExists("//wps:ProcessSucceeded",dom);
}
