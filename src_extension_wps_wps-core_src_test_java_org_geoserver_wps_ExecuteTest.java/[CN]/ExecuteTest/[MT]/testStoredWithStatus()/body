{
  String statusLocation=submitMonkey("x3");
  MonkeyProcess.progress("x3",10f,true);
  Document dom=getAsDOM(statusLocation);
  print(dom);
  assertXpathExists("//wps:ProcessStarted",dom);
  assertXpathEvaluatesTo("" + Math.round(0.66 * 10),"//wps:ProcessStarted/@percentCompleted",dom);
  MonkeyProcess.progress("x3",50f,true);
  dom=getAsDOM(statusLocation);
  print(dom);
  assertXpathExists("//wps:ProcessStarted",dom);
  assertXpathEvaluatesTo("" + Math.round(0.66 * 50),"//wps:ProcessStarted/@percentCompleted",dom);
  assertXpathEvaluatesTo("Currently at 50.0","//wps:ProcessStarted",dom);
  MonkeyProcess.exit("x3",collectionOfThings(),true);
  dom=waitForProcessEnd(statusLocation,60);
  assertXpathExists("//wps:ProcessSucceeded",dom);
}
