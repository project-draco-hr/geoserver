{
  if (isNull(style.getName())) {
    throw new NullPointerException("Style name must not be null");
  }
  if (isNull(style.getFilename())) {
    throw new NullPointerException("Style fileName must not be null");
  }
  WorkspaceInfo ws=style.getWorkspace();
  StyleInfo existing=getStyleByName(ws,style.getName());
  if (existing != null && !existing.getId().equals(style.getId())) {
    WorkspaceInfo ews=existing.getWorkspace();
    if ((ws == null && ews == null) || (ws != null && ws.equals(ews))) {
      String msg="Style named '" + style.getName() + "' already exists";
      if (ws != null) {
        msg+=" in workspace " + ws.getName();
      }
      throw new IllegalArgumentException(msg);
    }
  }
  return postValidate(style,isNew);
}
