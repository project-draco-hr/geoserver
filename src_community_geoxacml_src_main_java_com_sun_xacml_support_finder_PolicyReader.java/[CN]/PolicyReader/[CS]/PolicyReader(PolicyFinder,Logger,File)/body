{
  this.logger=logger;
  this.finder=finder;
  DocumentBuilderFactory factory=DocumentBuilderFactory.newInstance();
  factory.setIgnoringComments(true);
  factory.setNamespaceAware(true);
  if (schemaFile == null) {
    factory.setValidating(false);
  }
 else {
    factory.setValidating(true);
    factory.setAttribute(JAXP_SCHEMA_LANGUAGE,W3C_XML_SCHEMA);
    factory.setAttribute(JAXP_SCHEMA_SOURCE,schemaFile);
  }
  try {
    builder=factory.newDocumentBuilder();
    builder.setErrorHandler(this);
  }
 catch (  ParserConfigurationException pce) {
    throw new IllegalArgumentException("Filed to setup reader: " + pce.toString());
  }
}
