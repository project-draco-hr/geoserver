{
  if (context.clipToMapBounds) {
    Geometry clippingPolygon;
    if (context.transformToScreenCoordinates) {
      Rectangle paintArea=context.paintArea;
      clippingPolygon=JTS.toGeometry(paintArea);
    }
 else {
      ReferencedEnvelope renderingArea=context.renderingArea;
      clippingPolygon=JTS.toGeometry(renderingArea);
    }
    addLast(new Clip(clippingPolygon));
  }
  return this;
}
