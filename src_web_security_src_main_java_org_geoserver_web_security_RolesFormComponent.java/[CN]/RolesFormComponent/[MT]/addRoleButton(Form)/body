{
  AjaxButton button=new AjaxButton("addRole",form){
    @Override protected void onSubmit(    AjaxRequestTarget target,    Form form){
      String newRole=newRoleField.getRawInput();
      if (!"*".equals(newRole)) {
        rolePalette.getRecorderComponent().validate();
        rolePalette.getRecorderComponent().updateModel();
        roles.add(newRole);
        choices.add(newRole);
        rolePalette.modelChanged();
      }
      newRoleField.clearInput();
      target.addComponent(rolePalette);
      target.addComponent(newRoleField);
    }
  }
;
  button.setDefaultFormProcessing(false);
  return button;
}
