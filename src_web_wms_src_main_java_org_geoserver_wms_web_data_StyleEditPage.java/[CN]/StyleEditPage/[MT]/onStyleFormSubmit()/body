{
  try {
    StyleInfo style=(StyleInfo)styleForm.getModelObject();
    Version version=Styles.findVersion(new ByteArrayInputStream(rawSLD.getBytes()));
    style.setSLDVersion(version);
    try {
      getCatalog().getResourcePool().writeStyle(style,new ByteArrayInputStream(rawSLD.getBytes()));
    }
 catch (    IOException e) {
      throw new WicketRuntimeException(e);
    }
    getCatalog().save(style);
    doReturn(StylePage.class);
  }
 catch (  Exception e) {
    LOGGER.log(Level.SEVERE,"Error occurred saving the style",e);
    styleForm.error(e);
  }
}
