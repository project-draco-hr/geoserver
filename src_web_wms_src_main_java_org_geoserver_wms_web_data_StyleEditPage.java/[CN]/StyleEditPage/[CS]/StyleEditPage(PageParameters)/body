{
  String name=parameters.get(NAME).toString();
  String workspace=parameters.get(WORKSPACE).toOptionalString();
  StyleInfo si=workspace != null ? getCatalog().getStyleByName(workspace,name) : getCatalog().getStyleByName(name);
  if (si == null) {
    error(new ParamResourceModel("StyleEditPage.notFound",this,name).getString());
    doReturn(StylePage.class);
    return;
  }
  initUI(si);
  if (!isAuthenticatedAsAdmin()) {
    Form f=(Form)get("form");
    if (si.getWorkspace() == null) {
      styleForm.setEnabled(false);
      nameTextField.setEnabled(false);
      uploadForm.setEnabled(false);
      editor.add(new AttributeAppender("class",new Model("disabled")," "));
      get("validate").add(new AttributeAppender("style",new Model("display:none;")," "));
      add(new Behavior(){
        @Override public void renderHead(        Component component,        IHeaderResponse response){
          super.renderHead(component,response);
          response.render(OnLoadHeaderItem.forScript("document.getElementById('mainFormSubmit').style.display = 'none';"));
          response.render(OnLoadHeaderItem.forScript("document.getElementById('uploadFormSubmit').style.display = 'none';"));
        }
      }
);
      info(new StringResourceModel("globalStyleReadOnly",this,null).getString());
    }
    f.get("workspace").setEnabled(false);
  }
  formatChoice.setEnabled(false);
  formatReadOnlyMessage.setVisible(true);
}
