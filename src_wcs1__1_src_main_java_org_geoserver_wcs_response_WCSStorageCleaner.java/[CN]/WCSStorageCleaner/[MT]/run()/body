{
  try {
    GeoServerResourceLoader loader=GeoServerExtensions.bean(GeoServerResourceLoader.class);
    Resource wcs=loader.get("temp/wcs");
    if (wcs.getType() != Type.DIRECTORY) {
      return;
    }
    File wcsTemp=wcs.dir();
    long now=System.currentTimeMillis();
    for (    File f : wcsTemp.listFiles()) {
      if (now - f.lastModified() > (expirationDelay * 1000)) {
        f.delete();
      }
    }
  }
 catch (  Exception e) {
    LOGGER.log(Level.WARNING,"Error occurred while trying to clean up " + "old coverages from temp storage",e);
  }
}
