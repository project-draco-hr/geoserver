{
  AttributeFactory factory=null;
  if (useStandard(root,"useStandardDatatypes")) {
    logger.config("Starting with standard Datatypes");
    factory=StandardAttributeFactory.getNewFactory();
  }
 else {
    factory=new BaseAttributeFactory();
  }
  NodeList children=root.getChildNodes();
  for (int i=0; i < children.getLength(); i++) {
    Node child=children.item(i);
    if (child.getNodeName().equals("datatype")) {
      String identifier=child.getAttributes().getNamedItem("identifier").getNodeValue();
      AttributeProxy proxy=(AttributeProxy)(loadClass("datatype",child));
      try {
        factory.addDatatype(identifier,proxy);
      }
 catch (      IllegalArgumentException iae) {
        throw new ParsingException("duplicate datatype: " + identifier,iae);
      }
    }
  }
  return factory;
}
