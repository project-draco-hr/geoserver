{
  long pixels=1;
  for (int i=0; i < envelope.getDimension(); i++) {
    pixels*=envelope.getSpan(i);
  }
  long pixelSize=0;
  for (int i=0; i < sm.getNumBands(); i++) {
    pixelSize+=sm.getSampleSize(i);
  }
  return pixels * pixelSize / 8;
}
