{
  List[] result=new List[]{new ArrayList(),new ArrayList()};
  final String typeName=ftype.getTypeName();
  FeatureTypeStyle[] featureStyles=filterFeatureTypeStyles(style,ftype);
  final int length=featureStyles.length;
  for (int i=0; i < length; i++) {
    FeatureTypeStyle fts=featureStyles[i];
    Rule[] ftsRules=fts.getRules();
    for (int j=0; j < ftsRules.length; j++) {
      Rule r=ftsRules[j];
      if (r.hasElseFilter()) {
        result[ELSE_RULES].add(r);
      }
 else {
        result[RULES].add(r);
      }
    }
  }
  return result;
}
