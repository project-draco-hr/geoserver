{
  SecurityContextHolder.setContext(new SecurityContextImpl());
  List<GrantedAuthority> l=new ArrayList<GrantedAuthority>();
  for (  String role : roles) {
    l.add(new GrantedAuthorityImpl(role));
  }
  SecurityContextHolder.getContext().setAuthentication(new org.springframework.security.authentication.UsernamePasswordAuthenticationToken(user,passwd,l));
}
