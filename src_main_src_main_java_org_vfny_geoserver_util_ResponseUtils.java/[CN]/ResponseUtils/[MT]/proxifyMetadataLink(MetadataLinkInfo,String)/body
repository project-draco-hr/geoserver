{
  String content=link.getContent();
  try {
    URL url=new URL(content);
    try {
      if ("localhost".equals(url.getHost())) {
        Map<String,String> kvp=null;
        if (url.getFile() != null && !"".equals(url.getFile())) {
          kvp=KvpUtils.parseQueryString(url.getFile());
        }
        content=buildURL(baseURL,url.getPath(),kvp,URLType.RESOURCE);
        URL newUrl=new URL(content);
        if (!url.getPath().equals(newUrl.getPath())) {
          content=content.replaceFirst(newUrl.getPath(),url.getPath());
        }
      }
    }
 catch (    Exception e) {
      LOGGER.log(Level.WARNING,"Unable to create proper back referece for metadata url: " + content,e);
    }
  }
 catch (  MalformedURLException e) {
  }
  return content;
}
