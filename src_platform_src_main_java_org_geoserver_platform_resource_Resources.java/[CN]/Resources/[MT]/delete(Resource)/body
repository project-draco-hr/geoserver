{
  boolean deleted;
switch (resource.getType()) {
case DIRECTORY:
    for (    Resource child : resource.list()) {
      deleted=delete(child);
      if (!deleted) {
        return false;
      }
    }
case RESOURCE:
  deleted=resource.delete();
if (!deleted) {
  return false;
}
break;
case UNDEFINED:
break;
}
return true;
}
