{
switch (resource.getType()) {
case DIRECTORY:
    for (    Resource child : resource.list()) {
      delete(child);
    }
case RESOURCE:
  boolean deleted=resource.delete();
if (!deleted) {
  throw new IOException("Failed to delete resource: " + resource);
}
break;
case UNDEFINED:
break;
}
}
