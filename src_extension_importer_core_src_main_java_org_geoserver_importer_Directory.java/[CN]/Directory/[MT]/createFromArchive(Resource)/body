{
  VFSWorker vfs=new VFSWorker();
  if (!vfs.canHandle(archive)) {
    throw new IOException(archive.path() + " is not a recognizable  format");
  }
  String basename=FilenameUtils.getBaseName(archive.name());
  Resource dir=archive.parent().get(basename);
  int i=0;
  while (Resources.exists(dir)) {
    dir=archive.parent().get(basename + i++);
  }
  vfs.extractTo(archive,dir);
  return new Directory(dir);
}
