{
  for (  Resource f : file.list()) {
    if (f.getType() == Type.DIRECTORY) {
      new Directory(f).cleanup();
    }
 else {
      if (LOGGER.isLoggable(Level.FINE)) {
        LOGGER.fine("Deleting file " + f.path());
      }
      if (!f.delete()) {
        throw new IOException("unable to delete " + f);
      }
    }
  }
  super.cleanup();
}
