{
  Object obj=lookupContext(true,true);
  ImportContext context=null;
  if (obj instanceof ImportContext) {
    try {
      context=(ImportContext)obj;
      if (context.getTasks().isEmpty()) {
        importer.init(context,false);
      }
      Form query=getRequest().getResourceRef().getQueryAsForm();
      if (query.getNames().contains("async")) {
        importer.runAsync(context,ImportFilter.ALL);
      }
 else {
        importer.run(context);
      }
      getResponse().setStatus(Status.SUCCESS_NO_CONTENT);
    }
 catch (    Exception e) {
      throw new RestletException("Error occured executing import",Status.SERVER_ERROR_INTERNAL,e);
    }
  }
 else {
    context=createImport(null);
  }
  if (context != null) {
    importer.changed(context);
  }
}
