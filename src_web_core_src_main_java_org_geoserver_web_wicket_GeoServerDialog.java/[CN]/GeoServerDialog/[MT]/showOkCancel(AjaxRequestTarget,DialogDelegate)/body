{
  window.setPageCreator(new ModalWindow.PageCreator(){
    public Page createPage(){
      userPanel=delegate.getContents("userPanel");
      return new ContentsPage(userPanel);
    }
  }
);
  window.setCloseButtonCallback(new ModalWindow.CloseButtonCallback(){
    public boolean onCloseButtonClicked(    AjaxRequestTarget target){
      return delegate.onCancel(target);
    }
  }
);
  window.setWindowClosedCallback(new ModalWindow.WindowClosedCallback(){
    public void onClose(    AjaxRequestTarget target){
      delegate.onClose(target);
    }
  }
);
  this.delegate=delegate;
  window.show(target);
}
