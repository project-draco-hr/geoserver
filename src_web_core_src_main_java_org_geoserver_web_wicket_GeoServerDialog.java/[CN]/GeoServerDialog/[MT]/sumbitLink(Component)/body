{
  AjaxSubmitLink link=new AjaxSubmitLink("submit"){
    @Override protected void onSubmit(    AjaxRequestTarget target,    Form form){
      if (delegate.onSubmit(target,(Component)this.getDefaultModelObject())) {
        window.close(target);
        delegate=null;
      }
    }
    @Override protected void onError(    AjaxRequestTarget target,    Form form){
      delegate.onError(target,form);
    }
  }
;
  link.setDefaultModel(new Model(contents));
  return link;
}
