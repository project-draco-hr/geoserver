{
  Geometry geom;
{
    GeometryAttribute defaultGeometryProperty=feature.getDefaultGeometryProperty();
    if (null == defaultGeometryProperty) {
      return null;
    }
    geom=(Geometry)defaultGeometryProperty.getValue();
    if (geom == null) {
      return null;
    }
  }
  geom=fixedGeometryFactory.createGeometry(geom);
  if (geom.isEmpty()) {
    return null;
  }
  if (geom instanceof GeometryCollection && geom.getNumGeometries() == 1) {
    geom=geom.getGeometryN(0);
  }
  TopoGeom geometry=createGeometry(geom);
  Map<String,Object> properties=getProperties(feature);
  geometry.setProperties(properties);
  geometry.setId(feature.getIdentifier().getID());
  return geometry;
}
