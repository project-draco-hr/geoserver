{
  final TileLayer layer=getModelObject();
  if (!(layer instanceof GeoServerTileLayer)) {
    return;
  }
  final GeoServerTileLayer geoserverTileLayer=(GeoServerTileLayer)getModelObject();
  LayerInfo layerInfo=geoserverTileLayer.getLayerInfo();
  if (layerInfo != null) {
    ResourceConfigurationPage resourceConfigPage;
    resourceConfigPage=new ResourceConfigurationPage(layerInfo,false);
    resourceConfigPage.setSelectedTab(LayerCacheOptionsTabPanel.class);
    if (returnPage != null) {
      resourceConfigPage.setReturnPage(returnPage);
    }
    setResponsePage(resourceConfigPage);
  }
 else {
    PageParameters parameters=new PageParameters(Collections.singletonMap(LayerGroupEditPage.GROUP,geoserverTileLayer.getName()));
    LayerGroupEditPage layerGroupEditPage=new LayerGroupEditPage(parameters);
    if (returnPage != null) {
      layerGroupEditPage.setReturnPage(returnPage);
    }
    setResponsePage(layerGroupEditPage);
  }
}
