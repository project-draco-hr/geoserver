{
  XStreamServiceLoader loader=findServiceLoader(service);
  try {
    File directory=service.getWorkspace() != null ? dir(service.getWorkspace(),true) : null;
    loader.save(service,geoServer,directory);
  }
 catch (  Throwable t) {
    throw new RuntimeException(t);
  }
}
