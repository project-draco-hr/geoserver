{
  if (((AbstractGridFormat)coverageFormat).accepts(directory)) {
    return directory;
  }
  for (  File f : directory.listFiles()) {
    if (f.isDirectory()) {
      File result=findPrimaryFile(f,format);
      if (result != null) {
        return result;
      }
    }
 else {
      if (((AbstractGridFormat)coverageFormat).accepts(f)) {
        return f;
      }
    }
  }
  return null;
}
