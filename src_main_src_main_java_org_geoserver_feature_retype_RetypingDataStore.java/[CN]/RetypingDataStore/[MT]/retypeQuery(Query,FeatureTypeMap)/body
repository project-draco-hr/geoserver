{
  Query modified=new Query(q);
  modified.setTypeName(typeMap.getOriginalName());
  modified.setFilter(retypeFilter(q.getFilter(),typeMap));
  return modified;
}
