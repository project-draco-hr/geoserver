{
  if (!this.valid) {
    return "";
  }
  if (this.textX3DNode) {
    return this.text;
  }
  StringBuilder strb=new StringBuilder();
  strb.append("<" + tag);
  for (  X3DAttribute a : attributes) {
    strb.append(" " + a.toString());
  }
  if (nodes.isEmpty() && text.isEmpty() && !expand) {
    strb.append("/>");
  }
 else {
    strb.append(">");
    if (!text.isEmpty()) {
      strb.append(text);
    }
    for (    X3DNode n : nodes) {
      strb.append(n.toString());
    }
    strb.append("</" + tag + ">");
  }
  return strb.toString();
}
