{
  ImageLayout il=new ImageLayout();
  il.setMinX(image.getMinX());
  il.setMinY(image.getMinY());
  il.setWidth(image.getWidth());
  il.setHeight(image.getHeight());
  il.setColorModel(icm);
  SampleModel sm=icm.createCompatibleSampleModel(image.getWidth(),image.getHeight());
  il.setTileWidth(image.getTileWidth());
  il.setTileHeight(image.getTileHeight());
  il.setSampleModel(sm);
  if (!il.isValid(ImageLayout.TILE_GRID_X_OFFSET_MASK)) {
    il.setTileGridXOffset(image.getMinTileX() * image.getTileWidth());
  }
  if (!il.isValid(ImageLayout.TILE_GRID_Y_OFFSET_MASK)) {
    il.setTileGridYOffset(image.getMinTileX() * image.getTileHeight());
  }
  return il;
}
