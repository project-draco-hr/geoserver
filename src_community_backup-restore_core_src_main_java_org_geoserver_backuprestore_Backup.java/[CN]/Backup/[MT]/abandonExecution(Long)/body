{
  LOGGER.info("Aborting execution id [" + executionId + "]");
  JobExecution jobExecution=null;
  try {
    if (this.backupExecutions.get(executionId) != null) {
      jobExecution=this.backupExecutions.get(executionId).getDelegate();
    }
 else     if (this.restoreExecutions.get(executionId) != null) {
      jobExecution=this.restoreExecutions.get(executionId).getDelegate();
    }
    jobOperator.abandon(executionId);
  }
  finally {
    if (jobExecution != null) {
      jobExecution.setStatus(BatchStatus.ABANDONED);
      jobExecution.setEndTime(new Date());
      jobRepository.update(jobExecution);
    }
  }
}
