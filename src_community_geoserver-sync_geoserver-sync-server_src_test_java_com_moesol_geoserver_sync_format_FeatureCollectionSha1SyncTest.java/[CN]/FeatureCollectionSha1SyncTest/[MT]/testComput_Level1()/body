{
  FeatureCollectionType featureCollectionType=buildSomeFeatures("US");
  m_sha1Sync.setCollection(featureCollectionType);
  Sha1SyncJson client=new Sha1SyncJson().level(1).hashes(new Sha1SyncPositionHash().position("56").summary("deadbeef"),new Sha1SyncPositionHash().position("ed").summary("deadbeef"));
  m_sha1Sync.parseSha1SyncJson(client.toString());
  Sha1SyncJson sync=m_sha1Sync.compute();
  assertEquals(2,sync.level());
  assertEquals("result: " + sync,2,sync.hashes().size());
  check(sync,0,"56e8","23130043fa5b0d0aa126d4cab1e4553617bf7276");
  check(sync,1,"ed3c","279bd935a280bd6f5f5ff49fe17fc1feab25fb3a");
  assertEquals(1L,sync.max());
}
