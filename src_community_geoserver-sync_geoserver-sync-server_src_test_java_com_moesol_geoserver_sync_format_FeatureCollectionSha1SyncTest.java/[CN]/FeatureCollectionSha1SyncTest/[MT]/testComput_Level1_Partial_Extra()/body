{
  FeatureCollectionResponse featureCollectionResponse=buildSomeFeatures("US");
  m_sha1Sync.setCollection(featureCollectionResponse);
  Sha1SyncJson client=new Sha1SyncJson().level(1).hashes(new Sha1SyncPositionHash().position("ed").summary("deadbeef"),new Sha1SyncPositionHash().position("ff").summary("deadbeef"));
  m_sha1Sync.parseSha1SyncJson(client.toString());
  Sha1SyncJson sync=m_sha1Sync.compute();
  assertEquals(2,sync.level());
  assertEquals("result: " + sync,2,sync.hashes().size());
  check(sync,0,"ed3c","279bd935a280bd6f5f5ff49fe17fc1feab25fb3a");
  check(sync,1,"ff",null);
  assertEquals(1L,sync.max());
}
