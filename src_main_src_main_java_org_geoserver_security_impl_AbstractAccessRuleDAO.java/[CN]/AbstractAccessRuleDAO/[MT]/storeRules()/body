{
  FileOutputStream os=null;
  try {
    Properties p=toProperties();
    File propFile=new File(securityDir,propertyFileName);
    os=new FileOutputStream(propFile);
    p.store(os,null);
  }
 catch (  Exception e) {
    if (e instanceof IOException)     throw (IOException)e;
 else     throw (IOException)new IOException("Could not write rules to " + propertyFileName).initCause(e);
  }
 finally {
    if (os != null)     os.close();
  }
}
