{
  if (group == null) {
    return null;
  }
  final List<LayerInfo> filteredLayers=filterLayers(group.getLayers());
  if (layerGroupPolicy.hideLayerGroup(group,filteredLayers)) {
    return null;
  }
 else {
    if (group.getLayers().size() != filteredLayers.size()) {
      return new DecoratingLayerGroupInfo(group){
        @Override public List<LayerInfo> getLayers(){
          return filteredLayers;
        }
      }
;
    }
 else {
      return group;
    }
  }
}
