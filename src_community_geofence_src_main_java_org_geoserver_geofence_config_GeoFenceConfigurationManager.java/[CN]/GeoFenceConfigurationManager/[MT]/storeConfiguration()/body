{
  File configurationFile=configurer.getConfigFile();
  FileUtils.forceMkdir(configurationFile.getParentFile());
  BufferedWriter writer=null;
  try {
    writer=new BufferedWriter(new FileWriter(configurationFile));
    writer.write("### GeoFence Module configuration file\n");
    writer.write("### \n");
    writer.write("### GeoServer will read this file at boot time.\n");
    writer.write("### This file may be automatically regenerated by GeoServer, so any changes beside the property values may be lost.\n\n");
    saveConfiguration(writer,geofenceConfiguration);
    saveConfiguration(writer,cacheConfiguration);
  }
  finally {
    IOUtils.closeQuietly(writer);
  }
}
