{
  String name=getName(repositoryLocation);
  RepositoryManager repoMgr=RepositoryManager.get();
  try {
    RepositoryInfo info=repoMgr.getByRepoName(name);
    String repositoryId=info.getId();
    Repository repo=repoMgr.getRepository(repositoryId);
    checkState(repo.isOpen(),"RepositoryManager returned a closed repository for %s",name);
    return repo;
  }
 catch (  IOException ioe) {
    RepositoryConnectionException rce=new RepositoryConnectionException("No GeoGig repository found with NAME or ID: " + name);
    rce.initCause(ioe);
    throw rce;
  }
}
