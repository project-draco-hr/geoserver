def preUpdate(f):

    def wrapped(updated, props, req, context):
        return f(core.map(updated), dict(props), req, context)
    wrapped.__decorator__ = preUpdate
    return wrapped
