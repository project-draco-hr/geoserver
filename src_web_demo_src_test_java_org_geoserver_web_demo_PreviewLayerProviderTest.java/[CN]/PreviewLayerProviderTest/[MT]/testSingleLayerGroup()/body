{
  String layerId=getLayerId(MockData.BUILDINGS);
  LayerInfo layer=getCatalog().getLayerByName(layerId);
  LayerGroupInfo group=getCatalog().getFactory().createLayerGroup();
  group.setName("testSingleLayerGroup");
  group.setMode(LayerGroupInfo.Mode.SINGLE);
  group.getLayers().add(layer);
  getCatalog().add(group);
  try {
    PreviewLayerProvider provider=new PreviewLayerProvider();
    PreviewLayer pl=getPreviewLayer(provider,group.prefixedName());
    assertNotNull(pl);
  }
  finally {
    getCatalog().remove(group);
  }
}
