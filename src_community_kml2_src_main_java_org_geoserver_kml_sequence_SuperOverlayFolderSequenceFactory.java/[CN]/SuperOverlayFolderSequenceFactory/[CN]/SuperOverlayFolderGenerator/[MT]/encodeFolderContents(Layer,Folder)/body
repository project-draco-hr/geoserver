{
  if ("cached".equals(context.getSuperOverlayMode()) && KMLUtils.isRequestGWCCompatible(context.getMapContent(),layer,context.getWms())) {
    encodeAsCachedTiles(layer,folder);
  }
 else {
    encodeAsSuperOverlay(layer,folder);
  }
}
