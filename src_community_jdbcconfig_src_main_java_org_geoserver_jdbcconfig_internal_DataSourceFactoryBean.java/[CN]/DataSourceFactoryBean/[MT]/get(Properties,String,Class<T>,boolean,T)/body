{
  String raw=props.getProperty(key);
  if (raw == null && mandatory) {
    throw new IllegalStateException(key + " property is mandatory but not found");
  }
  if (raw == null) {
    return def;
  }
  return Converters.convert(raw,clazz);
}
