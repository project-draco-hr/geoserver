{
  DimensionInfo time=coverage.getMetadata().get(ResourceInfo.TIME,DimensionInfo.class);
  String name=coverage.getPrefixedName();
  if (time == null || !time.isEnabled()) {
    throw new ServiceException("Layer " + name + " does not have time support enabled");
  }
  final String currentTime=reader.getMetadataValue(AbstractGridCoverage2DReader.TIME_DOMAIN_MAXIMUM);
  if (currentTime == null) {
    return null;
  }
  final SimpleDateFormat df=new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS");
  df.setTimeZone(TimeZone.getTimeZone("UTC"));
  try {
    return df.parse(currentTime);
  }
 catch (  ParseException e) {
    throw (IOException)new IOException("Failed to get CURRENT time for layer " + name).initCause(e);
  }
}
