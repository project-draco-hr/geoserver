{
  FeatureIterator<SimpleFeature> fi=null;
  try {
    VersioningDataStore ds=core.getVersioningStore();
    DefaultQuery q=new DefaultQuery();
    q.setFilter(ff.equal(ff.property("table_name"),ff.literal(typeName.getLocalPart()),true));
    q.setSortBy(new SortBy[]{ff.sort("central_revision",SortOrder.DESCENDING),ff.sort("local_revision",SortOrder.DESCENDING)});
    q.setMaxFeatures(1);
    fi=ds.getFeatureSource(SYNCH_HISTORY).getFeatures(q).features();
    if (fi.hasNext()) {
      return fi.next();
    }
 else {
      return null;
    }
  }
  finally {
    if (fi != null) {
      fi.close();
    }
  }
}
