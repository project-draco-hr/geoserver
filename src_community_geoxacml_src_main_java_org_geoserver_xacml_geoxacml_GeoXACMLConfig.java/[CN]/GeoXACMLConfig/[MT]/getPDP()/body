{
synchronized (pdpLock) {
    if (pdp != null)     return pdp;
    GeoXACML.initialize();
    DataDirPolicyFinderModlule policyModule=new DataDirPolicyFinderModlule();
    if (repositoryBaseDir != null)     policyModule.setBaseDir(repositoryBaseDir);
    PolicyFinder policyFinder=new PolicyFinder();
    Set<PolicyFinderModule> policyModules=new HashSet<PolicyFinderModule>();
    policyModules.add(policyModule);
    policyFinder.setModules(policyModules);
    CurrentEnvModule envModule=new CurrentEnvModule();
    GeoSelectorModule selectorModule=new GeoSelectorModule();
    AttributeFinder attrFinder=new AttributeFinder();
    List<AttributeFinderModule> attrModules=new ArrayList<AttributeFinderModule>();
    attrModules.add(envModule);
    attrModules.add(selectorModule);
    attrFinder.setModules(attrModules);
    pdp=new PDP(new PDPConfig(attrFinder,policyFinder,null));
    XACMLUtil.getXACMLLogger().info("GeoXACML repository loaded ");
    return pdp;
  }
}
