{
  Object o=operation.getParameters()[0];
  if (o instanceof GetTileRequest) {
    GetTileRequest gs=(GetTileRequest)operation.getParameters()[0];
    return "GetTile".equalsIgnoreCase(operation.getId()) && operation.getService().getId().equals("w3ds") && gs.getFormat().getMimeType().equalsIgnoreCase(org.geoserver.w3ds.utilities.Format.HTML.getMimeType());
  }
  if (o instanceof GetSceneRequest) {
    GetSceneRequest gs=(GetSceneRequest)operation.getParameters()[0];
    return "GetScene".equalsIgnoreCase(operation.getId()) && operation.getService().getId().equals("w3ds") && gs.getFormat().getMimeType().equalsIgnoreCase(org.geoserver.w3ds.utilities.Format.HTML.getMimeType());
  }
  return false;
}
