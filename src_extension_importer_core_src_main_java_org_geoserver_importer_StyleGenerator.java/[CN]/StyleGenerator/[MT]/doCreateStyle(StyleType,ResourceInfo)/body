{
  String styleName=workspace != null ? findUniqueStyleName(resource,workspace) : findUniqueStyleName(resource);
  String sld=loadSLDFromTemplate(styleType,ramp.next(),resource);
  StyleInfo style=catalog.getFactory().createStyle();
  style.setName(styleName);
  style.setFilename(styleName + ".sld");
  if (workspace != null) {
    style.setWorkspace(workspace);
  }
  catalog.getResourcePool().writeStyle(style,new ByteArrayInputStream(sld.getBytes()));
  return style;
}
