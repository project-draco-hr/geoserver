{
  Resource res=store.get("DirA/DirC/DirD/FileQ");
  final CheckingResourceListener chkDirA=new CheckingResourceListener(Kind.ENTRY_MODIFY), chkDirC=new CheckingResourceListener(Kind.ENTRY_MODIFY), chkDirD=new CheckingResourceListener(Kind.ENTRY_CREATE), chkFileQ=new CheckingResourceListener(Kind.ENTRY_CREATE);
  watcher.addListener(res,chkFileQ);
  watcher.addListener(store.get("DirA/DirC/DirD"),chkDirD);
  watcher.addListener(store.get("DirA/DirC"),chkDirC);
  watcher.addListener(store.get("DirA"),chkDirA);
  List<Event> events=SimpleResourceNotificationDispatcher.createEvents(res,Kind.ENTRY_CREATE);
  watcher.changed(new ResourceNotification("DirA/DirC/DirD/FileQ",Kind.ENTRY_CREATE,System.currentTimeMillis(),events));
  assertTrue(chkDirA.isChecked());
  assertTrue(chkDirC.isChecked());
  assertTrue(chkDirD.isChecked());
  assertTrue(chkFileQ.isChecked());
  assertTrue(watcher.removeListener(res,chkFileQ));
  assertTrue(watcher.removeListener(store.get("DirA/DirC/DirD"),chkDirD));
  assertTrue(watcher.removeListener(store.get("DirA/DirC"),chkDirC));
  assertTrue(watcher.removeListener(store.get("DirA"),chkDirA));
}
