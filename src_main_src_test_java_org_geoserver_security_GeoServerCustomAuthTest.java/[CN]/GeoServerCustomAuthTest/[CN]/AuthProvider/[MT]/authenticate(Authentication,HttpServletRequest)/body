{
  if (authentication instanceof UsernamePasswordAuthenticationToken) {
    UsernamePasswordAuthenticationToken up=(UsernamePasswordAuthenticationToken)authentication;
    if ("foo".equals(up.getPrincipal()) && "bar".equals(up.getCredentials())) {
      authentication=new UsernamePasswordAuthenticationToken("foo","bar",(List)Collections.emptyList());
    }
  }
  return authentication;
}
