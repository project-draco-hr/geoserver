{
  super(id);
  LayerProvider provider=new LayerProvider(demo);
  GeoServerTablePanel<LayerInfo> table=new GeoServerTablePanel<LayerInfo>("layer.table",provider){
    @Override public Component getComponentForProperty(    String id,    IModel value,    Property<LayerInfo> property){
      final LayerInfo layer=(LayerInfo)value.getObject();
      final String text=property.getPropertyValue(layer).toString();
      if (property == LayerProvider.name) {
        return new Fragment(id,"layer.link",LayerChooser.this){
{
            add(new AjaxLink("link"){
{
                add(new Label("layer.name",new Model(text)));
              }
              @Override public void onClick(              AjaxRequestTarget target){
                PageParameters params=new PageParameters();
                params.put("layer",layer.prefixedName());
                WorkspaceInfo workspace=demo.getStyleInfo().getWorkspace();
                if (workspace == null) {
                  params.put("style",demo.getStyleInfo().getName());
                }
 else {
                  params.put("style",workspace.getName() + ":" + demo.getStyleInfo().getName());
                }
                setResponsePage(CssDemoPage.class,params);
              }
            }
);
          }
        }
;
      }
 else {
        return new Label(id,text);
      }
    }
  }
;
  add(table);
}
