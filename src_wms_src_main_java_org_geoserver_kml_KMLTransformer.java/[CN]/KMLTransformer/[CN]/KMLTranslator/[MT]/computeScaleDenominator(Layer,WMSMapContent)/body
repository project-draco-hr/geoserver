{
  Rectangle paintArea=new Rectangle(mapContent.getMapWidth(),mapContent.getMapHeight());
  AffineTransform worldToScreen=RendererUtilities.worldToScreenTransform(mapContent.getRenderingArea(),paintArea);
  try {
    return RendererUtilities.calculateScale(mapContent.getRenderingArea(),mapContent.getCoordinateReferenceSystem(),paintArea.width,paintArea.height,90);
  }
 catch (  Exception e) {
    return 1 / worldToScreen.getScaleX();
  }
}
