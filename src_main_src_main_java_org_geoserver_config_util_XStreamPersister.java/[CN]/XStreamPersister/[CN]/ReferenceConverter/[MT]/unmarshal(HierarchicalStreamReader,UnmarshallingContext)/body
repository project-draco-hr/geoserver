{
  String ref=null;
  if (reader.hasMoreChildren()) {
    reader.moveDown();
    ref=reader.getValue();
    reader.moveUp();
  }
 else {
    ref=reader.getValue();
  }
  Object proxy=ResolvingProxy.create(ref,clazz);
  Object resolved=proxy;
  if (catalog != null) {
    resolved=ResolvingProxy.resolve(catalog,proxy);
  }
  return CatalogImpl.unwrap(resolved);
}
