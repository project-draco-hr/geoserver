{
  if (!reader.hasMoreChildren()) {
    throw new IllegalArgumentException("Expected element " + name + " but could not find it");
  }
  reader.moveDown();
  try {
    if (!name.equals(reader.getNodeName())) {
      throw new IllegalArgumentException("Expected element " + name + " but found "+ reader.getNodeName()+ " instead");
    }
    String value=reader.getValue();
    return Converters.convert(value,type);
  }
  finally {
    reader.moveUp();
  }
}
