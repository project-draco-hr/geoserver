{
  String xml="<wps:Execute service='WPS' version='1.0.0' xmlns:wps='http://www.opengis.net/wps/1.0.0' " + "xmlns:ows='http://www.opengis.net/ows/1.1' xmlns:xlink=\"http://www.w3.org/1999/xlink\" >" + "<ows:Identifier>gs:Snap</ows:Identifier>"+ "<wps:DataInputs>"+ "<wps:Input>"+ "<ows:Identifier>features</ows:Identifier>"+ "<wps:Reference schema=\"http://schemas.opengis.net/gml/2.1.2/feature.xsd\" xlink:href=\"http://geoserver/wfs\"  method=\"POST\">"+ "<wps:Body>"+ "<wfs:GetFeature service=\"WFS\" version=\"1.0.0\" outputFormat=\"GML2\" "+ "xmlns:cite=\"http://www.opengis.net/cite\" "+ "xmlns:wfs=\"http://www.opengis.net/wfs\" "+ "xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" "+ "xsi:schemaLocation=\"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd\">"+ "<wfs:Query typeName=\"cite:Streams\" />"+ "</wfs:GetFeature>"+ "</wps:Body>"+ "</wps:Reference>"+ "</wps:Input>"+ "<wps:Input>"+ "<ows:Identifier>point</ows:Identifier>"+ "<wps:Data>"+ "<wps:ComplexData mimeType=\"application/wkt\">"+ "<![CDATA[POINT(-4.2E-4 0.003)]]>"+ "</wps:ComplexData>"+ "</wps:Data>"+ "</wps:Input>"+ "</wps:DataInputs>"+ "<wps:ResponseForm>"+ "<wps:RawDataOutput mimeType=\"text/XML\" schema=\"http://schemas.opengis.net/gml/2.1.2/feature.xsd\">"+ "<ows:Identifier>result</ows:Identifier>"+ "</wps:RawDataOutput>"+ "</wps:ResponseForm>"+ "</wps:Execute>";
  Document d=postAsDOM("wps",xml);
  assertEquals("wfs:FeatureCollection",d.getDocumentElement().getNodeName());
  assertXpathExists("/wfs:FeatureCollection/gml:featureMember",d);
}
