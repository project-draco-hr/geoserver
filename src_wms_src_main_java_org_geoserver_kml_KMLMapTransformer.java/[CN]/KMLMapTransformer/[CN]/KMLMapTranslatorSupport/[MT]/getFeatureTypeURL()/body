{
  GeoServer gs=wms.getGeoServer();
  Catalog catalog=gs.getCatalog();
  String nsUri=mapLayer.getFeatureSource().getSchema().getName().getNamespaceURI();
  NamespaceInfo ns=catalog.getNamespaceByURI(nsUri);
  String featureTypeName=mapLayer.getFeatureSource().getSchema().getName().getLocalPart();
  GetMapRequest request=mapContext.getRequest();
  String baseURL=request.getBaseUrl();
  String prefix=ns.getPrefix();
  return buildURL(baseURL,appendPath("rest",prefix,featureTypeName),null,URLType.SERVICE);
}
